<!DOCTYPE html>
<html lang="zh-cn" dir="ltr">
    <head><meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'><meta name='description' content='‰∏Ä„ÄÅÁÆÄË¶Å‰ªãÁªç ABP vNext Ê°ÜÊû∂Êú¨Ë∫´Â∞±ÊòØÂõ¥ÁªïÁùÄ DDD ÁêÜÂøµËøõË°åËÆæËÆ°ÁöÑÔºåÊâÄ‰ª•Âú® DDD ÈáåÈù¢Êàë‰ª¨ËÉΩÂ§üËßÅÂà∞ÁöÑÂÆû‰Ωì„ÄÅ‰ªìÂÇ®„ÄÅÂÄºÂØπË±°„ÄÅÈ¢ÜÂüüÊúçÂä°ÔºåABP vNext Ê°ÜÊû∂ÈÉΩ‰∏∫Êàë‰ª¨ËøõË°å‰∫ÜÂÆûÁé∞ÔºåËøô‰∫õÂü∫Á°ÄËÆæÊñΩÈÉΩÂ≠òÊîæÂú® Volo.Abp.Ddd.Domain È°πÁõÆÂΩì‰∏≠„ÄÇ
Êú¨ÁØáÊñáÁ´†Â∞Ü‰ºö‰æßÈáç‰∫éÁêÜËÆ∫ËÆ≤Ëß£Ôºå‰ΩÜ‰πüÂè™ÊòØ‰∏Ä‰∏™ÊäõÁ†ñÂºïÁéâÁöÑ‰ΩúÁî®ÔºåÂÖ≥‰∫é DDD Áõ∏ÂÖ≥ÁöÑÁü•ËØÜÂèØ‰ª•ÈòÖËØª Eric Evans ÊâÄÁºñÂÜôÁöÑ „ÄäÈ¢ÜÂüüÈ©±Âä®ËÆæËÆ°ÔºöËΩØ‰ª∂Ê†∏ÂøÉÂ§çÊùÇÊÄßÂ∫îÂØπ‰πãÈÅì„Äã„ÄÇ
PSÔºö
ËØ•‰π¶‰πüÊòØÁõÆÂâçÊàëÊ≠£Âú®ÈòÖËØªÁöÑ DDD ÁêÜËÆ∫‰π¶Á±çÔºåÂõ†‰∏∫Âü∫‰∫é DDD ÁêÜËÆ∫ÔºåÊàë‰ª¨ËÉΩÂ§üÁ≤æÂáÜÂú∞ÂàíÂàÜÂæÆÊúçÂä°ÁöÑ‰∏öÂä°ËæπÁïåÔºå‰∏∫ÂêéÁª≠ÂæÆÊúçÂä°Êû∂ÊûÑÁöÑÂèØÊâ©Â±ïÊÄßÊèê‰æõÂùöÂÆûÁöÑÂü∫Á°Ä„ÄÇ
'><title>ABP vNext Ê∫êÁ†ÅÂàÜÊûê - 5. DDD ÁöÑÈ¢ÜÂüüÂ±ÇÊîØÊåÅ (‰ªìÂÇ®„ÄÅÂÆû‰Ωì„ÄÅÂÄºÂØπË±°)</title>

<link rel='canonical' href='https://real-zony.github.io/p/abp-vnext-source-code-analysis---5-domain-layer-support-for-ddd-repository-entity-value-object/'>

<link rel="stylesheet" href="/scss/style.min.ac77dcf8b111b51da39a92990f431923f210f3876d85798a2125667f96dc33a4.css"><meta property='og:title' content='ABP vNext Ê∫êÁ†ÅÂàÜÊûê - 5. DDD ÁöÑÈ¢ÜÂüüÂ±ÇÊîØÊåÅ (‰ªìÂÇ®„ÄÅÂÆû‰Ωì„ÄÅÂÄºÂØπË±°)'>
<meta property='og:description' content='‰∏Ä„ÄÅÁÆÄË¶Å‰ªãÁªç ABP vNext Ê°ÜÊû∂Êú¨Ë∫´Â∞±ÊòØÂõ¥ÁªïÁùÄ DDD ÁêÜÂøµËøõË°åËÆæËÆ°ÁöÑÔºåÊâÄ‰ª•Âú® DDD ÈáåÈù¢Êàë‰ª¨ËÉΩÂ§üËßÅÂà∞ÁöÑÂÆû‰Ωì„ÄÅ‰ªìÂÇ®„ÄÅÂÄºÂØπË±°„ÄÅÈ¢ÜÂüüÊúçÂä°ÔºåABP vNext Ê°ÜÊû∂ÈÉΩ‰∏∫Êàë‰ª¨ËøõË°å‰∫ÜÂÆûÁé∞ÔºåËøô‰∫õÂü∫Á°ÄËÆæÊñΩÈÉΩÂ≠òÊîæÂú® Volo.Abp.Ddd.Domain È°πÁõÆÂΩì‰∏≠„ÄÇ
Êú¨ÁØáÊñáÁ´†Â∞Ü‰ºö‰æßÈáç‰∫éÁêÜËÆ∫ËÆ≤Ëß£Ôºå‰ΩÜ‰πüÂè™ÊòØ‰∏Ä‰∏™ÊäõÁ†ñÂºïÁéâÁöÑ‰ΩúÁî®ÔºåÂÖ≥‰∫é DDD Áõ∏ÂÖ≥ÁöÑÁü•ËØÜÂèØ‰ª•ÈòÖËØª Eric Evans ÊâÄÁºñÂÜôÁöÑ „ÄäÈ¢ÜÂüüÈ©±Âä®ËÆæËÆ°ÔºöËΩØ‰ª∂Ê†∏ÂøÉÂ§çÊùÇÊÄßÂ∫îÂØπ‰πãÈÅì„Äã„ÄÇ
PSÔºö
ËØ•‰π¶‰πüÊòØÁõÆÂâçÊàëÊ≠£Âú®ÈòÖËØªÁöÑ DDD ÁêÜËÆ∫‰π¶Á±çÔºåÂõ†‰∏∫Âü∫‰∫é DDD ÁêÜËÆ∫ÔºåÊàë‰ª¨ËÉΩÂ§üÁ≤æÂáÜÂú∞ÂàíÂàÜÂæÆÊúçÂä°ÁöÑ‰∏öÂä°ËæπÁïåÔºå‰∏∫ÂêéÁª≠ÂæÆÊúçÂä°Êû∂ÊûÑÁöÑÂèØÊâ©Â±ïÊÄßÊèê‰æõÂùöÂÆûÁöÑÂü∫Á°Ä„ÄÇ
'>
<meta property='og:url' content='https://real-zony.github.io/p/abp-vnext-source-code-analysis---5-domain-layer-support-for-ddd-repository-entity-value-object/'>
<meta property='og:site_name' content='Zony ÁöÑÂçöÂÆ¢'>
<meta property='og:type' content='article'><meta property='article:section' content='Post' /><meta property='article:tag' content='C#' /><meta property='article:tag' content='ABP' /><meta property='article:tag' content='ABP vNext' /><meta property='article:tag' content='.NET Core' /><meta property='article:tag' content='ASP.NET Core' /><meta property='article:tag' content='ASP.NET Core MVC' /><meta property='article:published_time' content='2019-07-20T02:05:28&#43;00:00'/><meta property='article:modified_time' content='2019-07-20T02:05:28&#43;00:00'/>
<meta name="twitter:title" content="ABP vNext Ê∫êÁ†ÅÂàÜÊûê - 5. DDD ÁöÑÈ¢ÜÂüüÂ±ÇÊîØÊåÅ (‰ªìÂÇ®„ÄÅÂÆû‰Ωì„ÄÅÂÄºÂØπË±°)">
<meta name="twitter:description" content="‰∏Ä„ÄÅÁÆÄË¶Å‰ªãÁªç ABP vNext Ê°ÜÊû∂Êú¨Ë∫´Â∞±ÊòØÂõ¥ÁªïÁùÄ DDD ÁêÜÂøµËøõË°åËÆæËÆ°ÁöÑÔºåÊâÄ‰ª•Âú® DDD ÈáåÈù¢Êàë‰ª¨ËÉΩÂ§üËßÅÂà∞ÁöÑÂÆû‰Ωì„ÄÅ‰ªìÂÇ®„ÄÅÂÄºÂØπË±°„ÄÅÈ¢ÜÂüüÊúçÂä°ÔºåABP vNext Ê°ÜÊû∂ÈÉΩ‰∏∫Êàë‰ª¨ËøõË°å‰∫ÜÂÆûÁé∞ÔºåËøô‰∫õÂü∫Á°ÄËÆæÊñΩÈÉΩÂ≠òÊîæÂú® Volo.Abp.Ddd.Domain È°πÁõÆÂΩì‰∏≠„ÄÇ
Êú¨ÁØáÊñáÁ´†Â∞Ü‰ºö‰æßÈáç‰∫éÁêÜËÆ∫ËÆ≤Ëß£Ôºå‰ΩÜ‰πüÂè™ÊòØ‰∏Ä‰∏™ÊäõÁ†ñÂºïÁéâÁöÑ‰ΩúÁî®ÔºåÂÖ≥‰∫é DDD Áõ∏ÂÖ≥ÁöÑÁü•ËØÜÂèØ‰ª•ÈòÖËØª Eric Evans ÊâÄÁºñÂÜôÁöÑ „ÄäÈ¢ÜÂüüÈ©±Âä®ËÆæËÆ°ÔºöËΩØ‰ª∂Ê†∏ÂøÉÂ§çÊùÇÊÄßÂ∫îÂØπ‰πãÈÅì„Äã„ÄÇ
PSÔºö
ËØ•‰π¶‰πüÊòØÁõÆÂâçÊàëÊ≠£Âú®ÈòÖËØªÁöÑ DDD ÁêÜËÆ∫‰π¶Á±çÔºåÂõ†‰∏∫Âü∫‰∫é DDD ÁêÜËÆ∫ÔºåÊàë‰ª¨ËÉΩÂ§üÁ≤æÂáÜÂú∞ÂàíÂàÜÂæÆÊúçÂä°ÁöÑ‰∏öÂä°ËæπÁïåÔºå‰∏∫ÂêéÁª≠ÂæÆÊúçÂä°Êû∂ÊûÑÁöÑÂèØÊâ©Â±ïÊÄßÊèê‰æõÂùöÂÆûÁöÑÂü∫Á°Ä„ÄÇ
">
    </head>
    <body class="
    article-page
    ">
    <script>
        (function() {
            const colorSchemeKey = 'StackColorScheme';
            if(!localStorage.getItem(colorSchemeKey)){
                localStorage.setItem(colorSchemeKey, "auto");
            }
        })();
    </script><script>
    (function() {
        const colorSchemeKey = 'StackColorScheme';
        const colorSchemeItem = localStorage.getItem(colorSchemeKey);
        const supportDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches === true;

        if (colorSchemeItem == 'dark' || colorSchemeItem === 'auto' && supportDarkMode) {
            

            document.documentElement.dataset.scheme = 'dark';
        } else {
            document.documentElement.dataset.scheme = 'light';
        }
    })();
</script>
<div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky ">
    <button class="hamburger hamburger--spin" type="button" id="toggle-menu" aria-label="ÂàáÊç¢ËèúÂçï">
        <span class="hamburger-box">
            <span class="hamburger-inner"></span>
        </span>
    </button>

    <header>
        
            
            <figure class="site-avatar">
                <a href="/">
                
                    
                    
                    
                        
                        <img src="/img/avatar_hu88ff3bfa88d8ce73b9d64b435a0a3f2c_26917_300x0_resize_box_3.png" width="300"
                            height="300" class="site-logo" loading="lazy" alt="Avatar">
                    
                
                </a>
                
                    <span class="emoji">üç•</span>
                
            </figure>
            
        
        
        <div class="site-meta">
            <h1 class="site-name"><a href="/">Zony ÁöÑÂçöÂÆ¢</a></h1>
            <h2 class="site-description">A .NET Developer</h2>
        </div>
    </header><ol class="social-menu">
            
                <li>
                    <a 
                        href='https://github.com/real-zony'
                        target="_blank"
                        title="GitHub"
                    >
                        
                        
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M9 19c-4.3 1.4 -4.3 -2.5 -6 -3m12 5v-3.5c0 -1 .1 -1.4 -.5 -2c2.8 -.3 5.5 -1.4 5.5 -6a4.6 4.6 0 0 0 -1.3 -3.2a4.2 4.2 0 0 0 -.1 -3.2s-1.1 -.3 -3.5 1.3a12.3 12.3 0 0 0 -6.2 0c-2.4 -1.6 -3.5 -1.3 -3.5 -1.3a4.2 4.2 0 0 0 -.1 3.2a4.6 4.6 0 0 0 -1.3 3.2c0 4.6 2.7 5.7 5.5 6c-.6 .6 -.6 1.2 -.5 2v3.5" />
</svg>



                        
                    </a>
                </li>
            
        </ol><ol class="menu" id="main-menu">
        
        
        

        <li >
            <a href='/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <polyline points="5 12 3 12 12 3 21 12 19 12" />
  <path d="M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7" />
  <path d="M9 21v-6a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v6" />
</svg>



                
                <span>‰∏ªÈ°µ</span>
            </a>
        </li>
        
        

        <li >
            <a href='/%E5%85%B3%E4%BA%8E/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="7" r="4" />
  <path d="M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2" />
</svg>



                
                <span>ÂÖ≥‰∫é</span>
            </a>
        </li>
        
        

        <li >
            <a href='/archives/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <rect x="3" y="4" width="18" height="4" rx="2" />
  <path d="M5 8v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-10" />
  <line x1="10" y1="12" x2="14" y2="12" />
</svg>



                
                <span>Â≠òÊ°£</span>
            </a>
        </li>
        
        

        <li >
            <a href='/search/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="10" cy="10" r="7" />
  <line x1="21" y1="21" x2="15" y2="15" />
</svg>



                
                <span>ÊêúÁ¥¢</span>
            </a>
        </li>
        
        

        <li >
            <a href='/links/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5" />
  <path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5" />
</svg>



                
                <span>Links</span>
            </a>
        </li>
        

        <div class="menu-bottom-section">
                <li id="i18n-switch">  
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-language" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M4 5h7" />
  <path d="M9 3v2c0 4.418 -2.239 8 -5 8" />
  <path d="M5 9c-.003 2.144 2.952 3.908 6.7 4" />
  <path d="M12 20l4 -9l4 9" />
  <path d="M19.1 18h-6.2" />
</svg>



                    <select name="language" onchange="window.location.href = this.selectedOptions[0].value">
                        
                            <option value="https://real-zony.github.io/en/" >English</option>
                        
                            <option value="https://real-zony.github.io/" selected>‰∏≠Êñá</option>
                        
                    </select>
                </li>
            
            
            
                <li id="dark-mode-toggle">
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="8" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="16" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                    <span>ÊöóËâ≤Ê®°Âºè</span>
                </li>
            
        </div>
    </ol>
</aside>
<main class="main full-width">
    <article class="main-article">
    <header class="article-header">

    <div class="article-details">
    

    <div class="article-title-wrapper">
        <h2 class="article-title">
            <a href="/p/abp-vnext-source-code-analysis---5-domain-layer-support-for-ddd-repository-entity-value-object/">ABP vNext Ê∫êÁ†ÅÂàÜÊûê - 5. DDD ÁöÑÈ¢ÜÂüüÂ±ÇÊîØÊåÅ (‰ªìÂÇ®„ÄÅÂÆû‰Ωì„ÄÅÂÄºÂØπË±°)</a>
        </h2>
    
        
    </div>

    
    <footer class="article-time">
        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M11.795 21h-6.795a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v4" />
  <circle cx="18" cy="18" r="4" />
  <path d="M15 3v4" />
  <path d="M7 3v4" />
  <path d="M3 11h16" />
  <path d="M18 16.496v1.504l1 1" />
</svg>
                <time class="article-time--published">Jul 20, 2019</time>
            </div>
        

        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <polyline points="12 7 12 12 15 15" />
</svg>



                <time class="article-time--reading">
                    ÈòÖËØªÊó∂Èïø: 12 ÂàÜÈíü
                </time>
            </div>
        
    </footer>
    

    
</div>
</header>

    <section class="article-content">
    
    
    <h2 id="‰∏ÄÁÆÄË¶Å‰ªãÁªç">‰∏Ä„ÄÅÁÆÄË¶Å‰ªãÁªç</h2>
<p>ABP vNext Ê°ÜÊû∂Êú¨Ë∫´Â∞±ÊòØÂõ¥ÁªïÁùÄ DDD ÁêÜÂøµËøõË°åËÆæËÆ°ÁöÑÔºåÊâÄ‰ª•Âú® DDD ÈáåÈù¢Êàë‰ª¨ËÉΩÂ§üËßÅÂà∞ÁöÑÂÆû‰Ωì„ÄÅ‰ªìÂÇ®„ÄÅÂÄºÂØπË±°„ÄÅÈ¢ÜÂüüÊúçÂä°ÔºåABP vNext Ê°ÜÊû∂ÈÉΩ‰∏∫Êàë‰ª¨ËøõË°å‰∫ÜÂÆûÁé∞ÔºåËøô‰∫õÂü∫Á°ÄËÆæÊñΩÈÉΩÂ≠òÊîæÂú® <strong>Volo.Abp.Ddd.Domain</strong> È°πÁõÆÂΩì‰∏≠„ÄÇ</p>
<p>Êú¨ÁØáÊñáÁ´†Â∞Ü‰ºö‰æßÈáç‰∫éÁêÜËÆ∫ËÆ≤Ëß£Ôºå‰ΩÜ‰πüÂè™ÊòØ‰∏Ä‰∏™ÊäõÁ†ñÂºïÁéâÁöÑ‰ΩúÁî®ÔºåÂÖ≥‰∫é DDD Áõ∏ÂÖ≥ÁöÑÁü•ËØÜÂèØ‰ª•ÈòÖËØª <strong>Eric Evans</strong> ÊâÄÁºñÂÜôÁöÑ „ÄäÈ¢ÜÂüüÈ©±Âä®ËÆæËÆ°ÔºöËΩØ‰ª∂Ê†∏ÂøÉÂ§çÊùÇÊÄßÂ∫îÂØπ‰πãÈÅì„Äã„ÄÇ</p>
<blockquote>
<p>PSÔºö</p>
<p>ËØ•‰π¶‰πüÊòØÁõÆÂâçÊàëÊ≠£Âú®ÈòÖËØªÁöÑ DDD ÁêÜËÆ∫‰π¶Á±çÔºåÂõ†‰∏∫Âü∫‰∫é DDD ÁêÜËÆ∫ÔºåÊàë‰ª¨ËÉΩÂ§üÁ≤æÂáÜÂú∞ÂàíÂàÜÂæÆÊúçÂä°ÁöÑ‰∏öÂä°ËæπÁïåÔºå‰∏∫ÂêéÁª≠ÂæÆÊúçÂä°Êû∂ÊûÑÁöÑÂèØÊâ©Â±ïÊÄßÊèê‰æõÂùöÂÆûÁöÑÂü∫Á°Ä„ÄÇ</p>
</blockquote>
<p><img src="/p/abp-vnext-source-code-analysis---5-domain-layer-support-for-ddd-repository-entity-value-object/1563360520996.png"
	width="512"
	height="244"
	srcset="/p/abp-vnext-source-code-analysis---5-domain-layer-support-for-ddd-repository-entity-value-object/1563360520996_hu8157f92338c51084ec23c2b1c8d409d0_13862_480x0_resize_box_3.png 480w, /p/abp-vnext-source-code-analysis---5-domain-layer-support-for-ddd-repository-entity-value-object/1563360520996_hu8157f92338c51084ec23c2b1c8d409d0_13862_1024x0_resize_box_3.png 1024w"
	loading="lazy"
	
		alt="1563360520996"
	
	
		class="gallery-image" 
		data-flex-grow="209"
		data-flex-basis="503px"
	
></p>
<h2 id="‰∫åÊ∫êÁ†ÅÂàÜÊûê">‰∫å„ÄÅÊ∫êÁ†ÅÂàÜÊûê</h2>
<p><strong>Volo.Abp.Ddd.Domain</strong> ÂàÜ‰∏∫ Volo Âíå Microsoft ‰∏§‰∏™Êñá‰ª∂Â§πÔºåÂú® Microsoft Êñá‰ª∂Â§πÂΩì‰∏≠‰∏ªË¶ÅÊòØÈíàÂØπ‰ªìÂÇ®ÂíåÂÆû‰ΩìËøõË°åËá™Âä®Ê≥®ÂÖ•„ÄÇ</p>
<h3 id="21-ÂÆû‰Ωì-entity">2.1 ÂÆû‰Ωì (Entity)</h3>
<h4 id="211-Âü∫Êú¨Ê¶ÇÂøµ">2.1.1 Âü∫Êú¨Ê¶ÇÂøµ</h4>
<p>Âè™Ë¶ÅÁî®Ëøá EF Core Ê°ÜÊû∂ÁöÑ‰∫∫ÔºåÂü∫Êú¨ÈÉΩÁü•ÈÅì‰ªÄ‰πàÊòØÂÆû‰Ωì„ÄÇ‰∏çËøáÂæàÂ§ö‰∫∫Â∞±Ë∑üÊàë‰∏ÄÊ†∑ÔºåÂè™ÊòØÂ∞ÜÂÆû‰Ωì‰Ωú‰∏∫Êï∞ÊçÆÂ∫ìË°®Âú® C# ËØ≠Ë®ÄÂΩì‰∏≠ÁöÑÂè¶‰∏ÄÁßçÂ±ïÁé∞ÊñπÂºèÔºåËÆ§‰∏∫ÂÆÉË∑üÊôÆÈÄöÁöÑÂØπË±°Ê≤°‰ªÄ‰πà‰∏ç‰∏ÄÊ†∑„ÄÇ</p>
<blockquote>
<p>PSÔºöËôΩÁÑ∂ÊØè‰∏™ÂØπË±°ÈÉΩ‰ºöÊúâ‰∏Ä‰∏™ÂÜÖÂú®ÁöÑ <strong>ÂØπË±°ÂºïÁî®ÊåáÈíà</strong> Êù•‰Ωú‰∏∫ÂîØ‰∏ÄÊ†áËØÜ„ÄÇ</p>
</blockquote>
<p>Âú® DDD ÁöÑÊ¶ÇÂøµÂΩì‰∏≠ÔºåÈÄöËøáÊ†áËØÜÂÆö‰πâÁöÑÂØπË±°Ë¢´Áß∞‰∏∫ÂÆû‰Ωì(Entity)„ÄÇËôΩÁÑ∂ÂÆÉ‰ª¨ÁöÑÂ±ûÊÄßÂèØËÉΩÂõ†‰∏∫‰∏çÂêåÁöÑÊìç‰ΩúËÄåË¢´ÊîπÂèòÔºàÂ§öÁßçÁîüÂëΩÂë®ÊúüÔºâÔºå‰ΩÜÂøÖÈ°ª‰øùËØÅ‰∏ÄÁßçÂÜÖÂú®ÁöÑËøûÁª≠ÊÄß„ÄÇ‰∏∫‰∫Ü‰øùËØÅËøôÁßçÂÜÖÂú®ÁöÑËøûÁª≠ÊÄßÔºåÂ∞±ÈúÄË¶Å<strong>‰∏Ä‰∏™ÊúâÊÑè‰πâÂπ∂‰∏îÂîØ‰∏ÄÁöÑÂ±ûÊÄß</strong>„ÄÇ</p>
<p>Ê†áËØÜÊòØÂê¶ÈáçË¶ÅÂàôÂÆåÂÖ®ÂèñÂÜ≥‰∫éÂÆÉÊòØÂê¶ÊúâÁî®Ôºå‰æãÂ¶ÇÊúâ‰∏™ÊºîÂî±‰ºöËÆ¢Á•®Á®ãÂ∫èÔºå‰Ω†ÂèØ‰ª•Â∞ÜÂ∫ß‰Ωç‰∏éËßÇ‰ºóÈÉΩÂΩì‰Ωú‰∏Ä‰∏™ÂÆû‰ΩìÂ§ÑÁêÜ„ÄÇÈÇ£‰πàÂú®ÂàÜÈÖçÂ∫ß‰ΩçÊó∂ÔºåÊØè‰∏™Â∫ß‰ΩçËÇØÂÆöÈÉΩ‰ºöÊúâ‰∏Ä‰∏™ÂîØ‰∏ÄÁöÑÂ∫ß‰ΩçÂè∑(ÂîØ‰∏ÄÊ†áËØÜ)ÔºåÂèØ‰πüËÉΩÊã•ÊúâÂÖ∂‰ªñÊèèËø∞Â±ûÊÄß(ÊòØÂê¶ÊòØ VIP Â∫ß‰Ωç„ÄÅ‰ª∑Ê†ºÁ≠â&hellip;)„ÄÇ</p>
<p>ÈÇ£‰πàÂ∫ß‰ΩçÊòØÂê¶ÈúÄË¶ÅÂîØ‰∏ÄÊ†áËØÜÔºåÊòØÂê¶‰∏∫‰∏Ä‰∏™ÂÆû‰ΩìÔºåÂ∞±ÂèñÂÜ≥‰∫é‰∏çÂêåÁöÑÂÖ•Âú∫ÊñπÂºè„ÄÇÂÅáÂ¶ÇËØ¥ÊòØ‰∏Ä‰∫∫‰∏ÄÁ•®Âà∂ÔºåÂπ∂‰∏îÊØèÂº†Èó®Á•®‰∏äÈù¢ÈÉΩÊúâÂõ∫ÂÆöÁöÑÂ∫ß‰ΩçÂè∑ÔºåËøô‰∏™Êó∂ÂÄôÂ∫ß‰ΩçÂ∞±ÊòØ‰∏Ä‰∏™ÂÆû‰ΩìÔºåÂõ†‰∏∫ÂÆÉÈúÄË¶ÅÂ∫ß‰ΩçÂè∑Êù•Âå∫ÂàÜ‰∏çÂêåÁöÑÂ∫ß‰Ωç„ÄÇ</p>
<p>Âè¶‰∏ÄÁßçÊñπÂºèÂ∞±ÊòØÂÖ•Âú∫Âç∑ÊñπÂºèÔºåÈó®Á•®‰∏äÊ≤°ÊúâÂ∫ß‰ΩçÂè∑Ôºå‰Ω†ÊÉ≥ÂùêÂì™ÂÑøÂ∞±ÂùêÂì™ÂÑø„ÄÇËøô‰∏™Êó∂ÂÄôÂ∫ß‰ΩçÂè∑Â∞±‰∏çÈúÄË¶Å‰∏éÈó®Á•®Âª∫Á´ãÂÖ≥ËÅîÔºåÂú®ËøôÁßçÊÉÖÂÜµ‰∏ãÂ∫ß‰ΩçÂ∞±‰∏çÊòØ‰∏Ä‰∏™ÂÆû‰ΩìÔºåÊâÄ‰ª•‰∏çÈúÄË¶ÅÂîØ‰∏ÄÊ†áËØÜ„ÄÇ</p>
<blockquote>
<p>* ‰∏äËø∞‰æãÂ≠ê‰∏éÊèèËø∞ÊîπÁºñËá™ „ÄäÈ¢ÜÂüüÈ©±Âä®ËÆæËÆ°ÔºöËΩØ‰ª∂Ê†∏ÂøÉÂ§çÊùÇÊÄßÂ∫îÂØπ‰πãÈÅì„ÄãÁöÑ ENTITY ‰∏ÄËäÇ„ÄÇ</p>
</blockquote>
<h4 id="212-Â¶Ç‰ΩïÂÆûÁé∞">2.1.2 Â¶Ç‰ΩïÂÆûÁé∞</h4>
<p>‰∫ÜËß£‰∫Ü DDD Ê¶ÇÂøµÈáåÈù¢ÁöÑÂÆû‰ΩìÊèèËø∞‰πãÂêéÔºåÊàë‰ª¨Â∞±Êù•Áúã‰∏Ä‰∏ã ABP vNext ‰∏∫Êàë‰ª¨ÂáÜÂ§á‰∫ÜÊÄéÊ†∑ÁöÑÂü∫Á°ÄËÆæÊñΩ„ÄÇ</p>
<p>È¶ñÂÖàÁúã Entities Êñá‰ª∂Â§π‰∏ãÂÖ≥‰∫éÂÆû‰ΩìÁöÑÂü∫Á°ÄÂÆö‰πâÔºåÂú®ÂÆû‰ΩìÁöÑÂü∫Á°ÄÂÆö‰πâÁ±ªÈáåÈù¢Ôºå‰∏∫ÊØè‰∏™ÂÆû‰ΩìÂÆö‰πâ‰∫ÜÂîØ‰∏ÄÊ†áËØÜ„ÄÇÂπ∂‰∏îÂú®Êüê‰∫õÊÉÖÂÜµ‰∏ãÔºåÊàë‰ª¨ÈúÄË¶ÅÁ°Æ‰øù ID Âú®<strong>Â§ö‰∏™ËÆ°ÁÆóÊú∫Á≥ªÁªü‰πãÈó¥ÂÖ∑ÊúâÂîØ‰∏ÄÊÄß</strong>„ÄÇ</p>
<p>Â∞§ÂÖ∂ÊòØÂú®Â§ö‰∏™Á≥ªÁªü/Âπ≥Âè∞ËøõË°åÂØπÊé•ÁöÑÊó∂ÂÄôÔºåÂ¶ÇÊûúÊØè‰∏™Á≥ªÁªüÈíàÂØπ‰∫é ‚ÄúÂº†‰∏â‚Äù Ëøô‰∏™Áî®Êà∑ÁöÑ ID ‰∏çÊòØ‰∏ÄËá¥ÁöÑÔºåÈÉΩÊòØËá™Â∑±ÁîüÊàê ID ÔºåÈÇ£‰πàÂ∞±ÈúÄË¶Å‰ªãÂÖ•‰∏Ä‰∏™Êñ∞ÁöÑÊäΩË±°Â±ÇËøõË°åÂÖ≥Á≥ªÊò†Â∞Ñ„ÄÇ</p>
<p>Âú® <code>IEntity&lt;TKey&gt;</code> ÁöÑÈªòËÆ§ÂÆûÁé∞ <code>Entity&lt;TKey&gt;</code> ‰∏≠Ôºå‰∏ç‰ªÖÊèê‰æõ‰∫ÜÊ†áËØÜÂÆö‰πâÔºå‰πüÈáçÂÜô‰∫Ü <code>Equals()</code> ÊØîËæÉÊñπÊ≥ïÂíå <code>==</code> \ <code>!=</code> Êìç‰ΩúÁ¨¶ÔºåÁî®‰∫éÂå∫Âà´‰∏çÂêåÂÆû‰Ωì„ÄÇÂÆÉ‰∏∫ÂØπË±°Áªü‰∏ÄÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ <code>TKey</code> Â±ûÊÄßÔºåËØ•Â±ûÊÄßÂ∞Ü‰ºö‰Ωú‰∏∫ÂÆû‰ΩìÁöÑÂîØ‰∏ÄÊ†áËØÜÂ≠óÊÆµ„ÄÇ</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="kd">public</span> <span class="kd">override</span> <span class="kt">bool</span> <span class="n">Equals</span><span class="p">(</span><span class="kt">object</span> <span class="n">obj</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// ÊØîËæÉÁöÑÂØπË±°‰∏∫ NULL ÊàñËÄÖÂØπË±°‰∏çÊòØÊ¥æÁîüËá™ Entity&lt;T&gt; ÈÉΩËßÜ‰∏∫‰∏çÁõ∏Á≠â„ÄÇ</span>
</span></span><span class="line"><span class="cl">	<span class="k">if</span> <span class="p">(</span><span class="n">obj</span> <span class="p">==</span> <span class="kc">null</span> <span class="p">||</span> <span class="p">!(</span><span class="n">obj</span> <span class="k">is</span> <span class="n">Entity</span><span class="p">&lt;</span><span class="n">TKey</span><span class="p">&gt;))</span>
</span></span><span class="line"><span class="cl">	<span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="c1">// ÊØîËæÉÁöÑÂØπË±°‰∏éÂΩìÂâçÂØπË±°Â±û‰∫éÂêå‰∏Ä‰∏™ÂºïÁî®ÔºåËßÜ‰∏∫Áõ∏Á≠âÁöÑ„ÄÇ</span>
</span></span><span class="line"><span class="cl">	<span class="k">if</span> <span class="p">(</span><span class="n">ReferenceEquals</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="n">obj</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">	<span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="c1">// ÂΩìÂâçÊØîËæÉ‰∏ªË¶ÅÈÄÇÁî®‰∫é EF CoreÔºåÂ¶ÇÊûú‰ªªÊÑèÂØπË±°ÊòØ‰ΩøÁî®ÁöÑÈªòËÆ§ IdÔºåÂç≥‰∏¥Êó∂ÂØπË±°ÔºåÂàôÂÖ∂ÈªòËÆ§ ID ÈÉΩ‰∏∫Ë¥üÊï∞ÔºåËßÜ‰∏∫‰∏çÁõ∏Á≠â„ÄÇ</span>
</span></span><span class="line"><span class="cl">	<span class="kt">var</span> <span class="n">other</span> <span class="p">=</span> <span class="p">(</span><span class="n">Entity</span><span class="p">&lt;</span><span class="n">TKey</span><span class="p">&gt;)</span><span class="n">obj</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">	<span class="k">if</span> <span class="p">(</span><span class="n">EntityHelper</span><span class="p">.</span><span class="n">HasDefaultId</span><span class="p">(</span><span class="k">this</span><span class="p">)</span> <span class="p">&amp;&amp;</span> <span class="n">EntityHelper</span><span class="p">.</span><span class="n">HasDefaultId</span><span class="p">(</span><span class="n">other</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">	<span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="c1">// ‰∏ªË¶ÅÂà§Êñ≠ÂΩìÂâçÂØπË±°‰∏éÊØîËæÉÂØπË±°ÁöÑÁ±ªÂûã‰ø°ÊÅØÔºåÁúã‰ªñ‰ª¨‰∏§‰∏™ÊòØÂê¶Â±û‰∫é IS-A ÂÖ≥Á≥ªÔºåÂ¶ÇÊûú‰∏çÊòØÔºåÂàôËßÜ‰∏∫‰∏çÁõ∏Á≠â„ÄÇ</span>
</span></span><span class="line"><span class="cl">	<span class="kt">var</span> <span class="n">typeOfThis</span> <span class="p">=</span> <span class="n">GetType</span><span class="p">().</span><span class="n">GetTypeInfo</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">	<span class="kt">var</span> <span class="n">typeOfOther</span> <span class="p">=</span> <span class="n">other</span><span class="p">.</span><span class="n">GetType</span><span class="p">().</span><span class="n">GetTypeInfo</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">	<span class="k">if</span> <span class="p">(!</span><span class="n">typeOfThis</span><span class="p">.</span><span class="n">IsAssignableFrom</span><span class="p">(</span><span class="n">typeOfOther</span><span class="p">)</span> <span class="p">&amp;&amp;</span> <span class="p">!</span><span class="n">typeOfOther</span><span class="p">.</span><span class="n">IsAssignableFrom</span><span class="p">(</span><span class="n">typeOfThis</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">	<span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="c1">// Â¶ÇÊûú‰∏§‰∏™ÂÆû‰Ωì‰ªñ‰ª¨ÁöÑÁßüÊà∑ Id ‰∏çÂêåÔºå‰πüËßÜ‰∏∫‰∏çÁõ∏Á≠â„ÄÇ</span>
</span></span><span class="line"><span class="cl">	<span class="k">if</span> <span class="p">(</span><span class="k">this</span> <span class="k">is</span> <span class="n">IMultiTenant</span> <span class="p">&amp;&amp;</span> <span class="n">other</span> <span class="k">is</span> <span class="n">IMultiTenant</span> <span class="p">&amp;&amp;</span>
</span></span><span class="line"><span class="cl">		<span class="k">this</span><span class="p">.</span><span class="n">As</span><span class="p">&lt;</span><span class="n">IMultiTenant</span><span class="p">&gt;().</span><span class="n">TenantId</span> <span class="p">!=</span> <span class="n">other</span><span class="p">.</span><span class="n">As</span><span class="p">&lt;</span><span class="n">IMultiTenant</span><span class="p">&gt;().</span><span class="n">TenantId</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// ÈÄöËøáÊ≥õÂûãÁöÑ Equals ÊñπÊ≥ïËøõË°åÊúÄÂêéÁöÑÊØîËæÉ„ÄÇ</span>
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="n">Id</span><span class="p">.</span><span class="n">Equals</span><span class="p">(</span><span class="n">other</span><span class="p">.</span><span class="n">Id</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ÂÆû‰ΩìÊú¨Ë∫´ÊòØÊîØÊåÅÂ∫èÂàóÂåñÁöÑÔºåÊâÄ‰ª•ÁâπÂà´Ê†áÊ≥®‰∫Ü <code>[Serializable]</code> ÁâπÊÄß„ÄÇ</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="na">[Serializable]</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="kd">abstract</span> <span class="k">class</span> <span class="nc">Entity</span><span class="p">&lt;</span><span class="n">TKey</span><span class="p">&gt;</span> <span class="p">:</span> <span class="n">Entity</span><span class="p">,</span> <span class="n">IEntity</span><span class="p">&lt;</span><span class="n">TKey</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="c1">// ... ÂÖ∂‰ªñ‰ª£Á†Å„ÄÇ</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ÈíàÂØπ‰∫éÊüê‰∫õÂÆû‰ΩìÂèØËÉΩÊòØ <strong>Â§çÂêà‰∏ªÈîÆ</strong> ÁöÑÊÉÖÂÜµÔºåABP vNext ÂàôÊé®Ëçê‰ΩøÁî® <code>IEntity</code> Âíå <code>Entity</code> ËøõË°åÂ§ÑÁêÜ„ÄÇ</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="cs">/// &lt;summary&gt;</span>
</span></span><span class="line"><span class="cl"><span class="cs">/// ÂÆö‰πâ‰∏Ä‰∏™ÂÆû‰ΩìÔºå‰ΩÜÂÆÉÁöÑ‰∏ªÈîÆÂèØËÉΩ‰∏çÊòØ ‚ÄúId‚ÄùÔºå‰πüÊúâÂèØËÉΩÊòØÂê¶Â§çÂêà‰∏ªÈîÆ„ÄÇ</span>
</span></span><span class="line"><span class="cl"><span class="cs">/// ÂºÄÂèë‰∫∫ÂëòÂ∫îËØ•Â∞ΩÂèØËÉΩ‰ΩøÁî® &lt;see cref=&#34;IEntity{TKey}&#34;/&gt; Êù•ÂÆö‰πâÂÆû‰ΩìÔºå‰ª•‰æøÊõ¥Â•ΩÁöÑ‰∏éÂÖ∂‰ªñÊ°ÜÊû∂/ÁªìÊûÑËøõË°åÈõÜÊàê„ÄÇ</span>
</span></span><span class="line"><span class="cl"><span class="cs">/// &lt;/summary&gt;</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="k">interface</span> <span class="nc">IEntity</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="cs">/// &lt;summary&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="cs">/// ËøîÂõûÂΩìÂâçÂÆû‰ΩìÁöÑÊ†áËØÜÊï∞ÁªÑ„ÄÇ</span>
</span></span><span class="line"><span class="cl">    <span class="cs">/// &lt;/summary&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="kt">object</span><span class="p">[]</span> <span class="n">GetKeys</span><span class="p">();</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="22-Ëá™Âä®ÂÆ°ËÆ°">2.2 Ëá™Âä®ÂÆ°ËÆ°</h3>
<p>Âú® Entities Êñá‰ª∂Â§πÈáåÈù¢ÔºåËøòÊúâ‰∏Ä‰∏™ Auditing Êñá‰ª∂Â§π„ÄÇÂú®Ëøô‰∏™Êñá‰ª∂Â§πÈáåÈù¢ÂÆö‰πâ‰∫ÜÂæàÂ§öÂØπË±°ÔºåÊàë‰ª¨ÊúÄ‰∏∫Â∏∏Áî®ÁöÑÂ∞±ÊòØ <code>FullAuditiedEntity</code> ÂØπË±°‰∫Ü„ÄÇ‰ªéÂ≠óÈù¢ÊÑèÊÄùÊù•ÁúãÔºåÂÆÉÊòØ‰∏Ä‰∏™ÂåÖÂê´‰∫ÜÊâÄÊúâÂÆ°ËÆ°Â±ûÊÄßÁöÑÂÆû‰Ωì„ÄÇ</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="na">[Serializable]</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="kd">abstract</span> <span class="k">class</span> <span class="nc">FullAuditedEntity</span><span class="p">&lt;</span><span class="n">TKey</span><span class="p">&gt;</span> <span class="p">:</span> <span class="n">AuditedEntity</span><span class="p">&lt;</span><span class="n">TKey</span><span class="p">&gt;,</span> <span class="n">IFullAuditedObject</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="c1">// ËΩØÂà†Èô§Ê†áËÆ∞Ôºå‰∏∫ true Êó∂ËØ¥ÊòéÂÆû‰ΩìÂ∑≤ÁªèË¢´Âà†Èô§ÔºåÂèç‰πã‰∫¶ÁÑ∂„ÄÇ</span>
</span></span><span class="line"><span class="cl">	<span class="kd">public</span> <span class="k">virtual</span> <span class="kt">bool</span> <span class="n">IsDeleted</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="c1">// Âà†Èô§ÂÆû‰ΩìÁöÑÁî®Êà∑ Id„ÄÇ</span>
</span></span><span class="line"><span class="cl">	<span class="kd">public</span> <span class="k">virtual</span> <span class="n">Guid</span><span class="p">?</span> <span class="n">DeleterId</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="c1">// ÂÆû‰ΩìË¢´Âà†Èô§ÁöÑÊó∂Èó¥„ÄÇ</span>
</span></span><span class="line"><span class="cl">	<span class="kd">public</span> <span class="k">virtual</span> <span class="n">DateTime</span><span class="p">?</span> <span class="n">DeletionTime</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ÈÇ£‰πàÔºå‰ªÄ‰πàÊòØÂÆ°ËÆ°Â±ûÊÄßÂë¢ÔºüÂú® ABP vNext ÂÜÖÈÉ®Â∞Ü‰ª•‰∏ãÂ±ûÊÄßÂÆö‰πâ‰∏∫ÂÆ°ËÆ°Â±ûÊÄßÔºö<strong>ÂàõÂª∫‰∫∫</strong>„ÄÅ<strong>ÂàõÂª∫Êó∂Èó¥</strong>„ÄÅ<strong>‰øÆÊîπ‰∫∫</strong>„ÄÅ<strong>‰øÆÊîπÊó∂Èó¥</strong>„ÄÅ<strong>Âà†Èô§‰∫∫</strong>„ÄÅ<strong>Âà†Èô§Êó∂Èó¥</strong>„ÄÅ<strong>ËΩØÂà†Èô§Ê†áËÆ∞</strong>„ÄÇËøô‰∫õÂ±ûÊÄß‰∏çÈúÄË¶ÅÂºÄÂèë‰∫∫ÂëòÊâãÂä®Âéª‰π¶ÂÜô/ÊéßÂà∂ÔºåABP vNext Ê°ÜÊû∂Â∞Ü‰ºöËá™Âä®Ë∑üË∏™Ëøô‰∫õÂ±ûÊÄßÂπ∂ËÆæÁΩÆÂÖ∂ÂÄº„ÄÇ</p>
<p>ÂºÄÂèë‰∫∫ÂëòÈô§‰∫ÜÂèØ‰ª•Áõ¥Êé•ÁªßÊâø <code>FullAuditedEntity</code> ‰ª•Â§ñÔºå‰πüÂèØ‰ª•ËÄÉËôëÈõÜÊàêÂÖ∂‰ªñÁöÑÂÆ°ËÆ°ÂÆû‰æãÔºå‰æãÂ¶ÇÂè™ÂåÖÂê´ÂàõÂª∫‰∫∫‰∏éÂàõÂª∫Êó∂Èó¥ÁöÑ <code>CreationAuditedEntity</code>„ÄÇÂ¶ÇÊûú‰Ω†ËßâÂæó‰Ω†Âè™ÊÉ≥Ë¶ÅÂàõÂª∫‰∫∫„ÄÅËΩØÂà†Èô§Ê†áËÆ∞„ÄÅ‰øÆÊîπÊó∂Èó¥ÁöÑËØùÔºå‰πüÂèØ‰ª•Áõ¥Êé•ÁªßÊâøÁõ∏Â∫îÁöÑÊé•Âè£„ÄÇ</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="kd">public</span> <span class="k">class</span> <span class="nc">TestEntity</span> <span class="p">:</span> <span class="n">Entity</span><span class="p">&lt;</span><span class="kt">int</span><span class="p">&gt;,</span><span class="n">IMayHaveCreator</span><span class="p">,</span><span class="n">ISoftDelete</span><span class="p">,</span><span class="n">IHasModificationTime</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="cs">/// &lt;summary&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="cs">/// ÂàõÂª∫‰∫∫ÁöÑ Id„ÄÇ</span>
</span></span><span class="line"><span class="cl">	<span class="cs">/// &lt;/summary&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="kd">public</span> <span class="n">Guid</span><span class="p">?</span> <span class="n">CreatorId</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">	
</span></span><span class="line"><span class="cl">	<span class="cs">/// &lt;summary&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="cs">/// ËΩØÂà†Èô§Ê†áËÆ∞„ÄÇ</span>
</span></span><span class="line"><span class="cl">	<span class="cs">/// &lt;/summary&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="kd">public</span> <span class="kt">bool</span> <span class="n">IsDeleted</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">	
</span></span><span class="line"><span class="cl">	<span class="cs">/// &lt;summary&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="cs">/// ÊúÄÂêéÁöÑ‰øÆÊîπÊó∂Èó¥„ÄÇ</span>
</span></span><span class="line"><span class="cl">	<span class="cs">/// &lt;/summary&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="kd">public</span> <span class="n">DateTime</span><span class="p">?</span> <span class="n">LastModificationTime</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ËøôÈáåÊàëÂè™ÈáçÁÇπÊèê‰∏Ä‰∏ãÂÖ≥‰∫éÂÆ°ËÆ°ÂÆû‰ΩìÁõ∏ÂÖ≥ÁöÑÂÜÖÂÆπÔºåÂØπ‰∫éËÅöÂêàÁöÑÊ†πÂØπË±°ÁöÑÂÆ°ËÆ°ÂÆû‰ΩìÔºåÂÜÖÂÆπ‰πüÊòØÁõ∏‰ººÁöÑÔºåÂ∞±‰∏çÂÜçËµòËø∞„ÄÇ</p>
<h3 id="23-ÂÄºÂØπË±°-valueobject">2.3 ÂÄºÂØπË±° (ValueObject)</h3>
<h4 id="231-Âü∫Êú¨Ê¶ÇÂøµ">2.3.1 Âü∫Êú¨Ê¶ÇÂøµ</h4>
<p>DDD ÂÖ≥‰∫éÂÄºÂØπË±°Êüê‰∏Ä‰∏™Ê¶ÇÂøµÊù•ËØ¥ÔºåÊØè‰∏™ÂÄºÂØπË±°ÈÉΩÊòØÂçï‰∏ÄÁöÑÂâØÊú¨ÔºåËøô‰∏™Ê¶ÇÂøµ‰Ω†ÂèØ‰ª•Á±ªÊØî C# ÈáåÈù¢ÂÖ≥‰∫éÂÄºÂØπË±°ÂíåÂºïÁî®ÂØπË±°ÁöÑÂå∫Âà´„ÄÇ</p>
<p>ÂÄºÂØπË±°‰∏éÂÆû‰ΩìÊúÄÂ§ßÁöÑÂå∫Âà´Â∞±Âú®‰∫éÔºå<strong>ÂÄºÂØπË±°ÊòØÊ≤°ÊúâÊ¶ÇÂøµÊ†áËØÜÁöÑ</strong>ÔºåËøòÊúâÊØîËæÉÈáçË¶ÅÁöÑ‰∏ÄÁÇπÂ∞±ÊòØÂÄºÂØπË±°ÊòØ<strong>‰∏çÂèØÂèòÁöÑ</strong>ÔºåÊâÄË∞ìÁöÑ‰∏çÂèØÂèòÔºåÂ∞±ÊòØÂÄºÂØπË±°‰∫ßÁîü‰ªª‰ΩïÂèòÂåñÂ∫îËØ•Áõ¥Êé•ÊõøÊç¢ÊéâÂéüÊúâÂâØÊú¨ÔºåËÄå‰∏çÊòØÂú®ÂéüÊúâÂâØÊú¨‰∏äËøõË°å‰øÆÊîπ„ÄÇ**Â¶ÇÊûúÂÄºÂØπË±°ÊòØÂèØÂèòÁöÑÔºåÈÇ£‰πàÂÆÉ‰∏ÄÂÆö‰∏çËÉΩË¢´ÂÖ±‰∫´„ÄÇ**ÂÄºÂØπË±°ÂèØ‰ª•ÂºïÁî®ÂÆû‰ΩìÊàñËÄÖÂÖ∂‰ªñÁöÑÂÄºÂØπË±°„ÄÇ</p>
<p>ËøôÈáå‰ªçÁÑ∂‰ª•‰π¶‰∏≠ÁöÑ‰æãÂ≠êËøõË°åËØ¥ÊòéÂÄºÂØπË±°ÁöÑÊ†áËØÜÈóÆÈ¢òÔºå‰æãÂ¶Ç ‚ÄúÂú∞ÂùÄ‚Äù Ëøô‰∏™Ê¶ÇÂøµ„ÄÇ</p>
<p>Â¶ÇÊûúÊàëÂú®Ê∑òÂÆù‰π∞‰∫Ü‰∏Ä‰∏™ÈîÆÁõòÔºåÊàëÁöÑÂÆ§Âèã‰πü‰ªéÊ∑òÂÆù‰π∞‰∫ÜÂêåÊ¨æÈîÆÁõò„ÄÇÂØπ‰∫éÊ∑òÂÆùÁ≥ªÁªüÊù•ËØ¥ÔºåÊàë‰ª¨‰∏§‰∏™ÊòØÂê¶Â§Ñ‰∫éÂêå‰∏Ä‰∏™Âú∞ÂùÄÂπ∂‰∏çÈáçË¶ÅÔºåÊâÄ‰ª•ËøôÈáå ‚ÄúÂú∞ÂùÄ‚Äù Â∞±ÊòØ‰∏Ä‰∏™ÂÄºÂØπË±°„ÄÇÂõ†‰∏∫Á≥ªÁªü‰∏çÈúÄË¶ÅÂÖ≥ÂøÉ‰∏§‰∏™Âú∞ÂùÄÁöÑÂîØ‰∏ÄÊ†áËØÜÊòØÂê¶‰∏ÄËá¥ÔºåÂú®‰∏öÂä°‰∏äÊù•ËØ¥‰πüÊ≤°ÊúâËøô‰∏™ÈúÄË¶Å„ÄÇ</p>
<p>Âè¶‰∏Ä‰∏™ÊÉÖÂÜµÂ∞±ÊòØÂÆ∂ÈáåÂÅúÁîµ‰∫ÜÔºåÊàëÂíåÊàëÁöÑÂÆ§ÂèãÂêåÊó∂Âú®ÁîµÂäõÊúçÂä°Á≥ªÁªüÊèê‰∫§‰∫ÜÂ∑•Âçï„ÄÇËøô‰∏™Êó∂ÂÄôÂØπ‰∫éÁîµÂäõÁ≥ªÁªüÊù•ËØ¥ÔºåÂ¶ÇÊûú‰∏§‰∏™Â∑•ÂçïÁöÑÂú∞ÂùÄÊòØÂú®Âêå‰∏Ä‰∏™Âú∞ÊñπÔºåÈÇ£‰πàÂè™ÈúÄË¶ÅÊ¥æ‰∏Ä‰∏™‰∫∫ÂéªËøõË°åÁª¥‰øÆÂç≥ÂèØ„ÄÇËøôÁßçÊÉÖÂÜµ‰∏ãÔºåÂú∞ÂùÄÂ∞±ÊòØ‰∏Ä‰∏™ÂÆû‰ΩìÔºåÂõ†‰∏∫Âú∞ÂùÄÊ∂âÂèäÂà∞ÊØîËæÉÔºåËÄåÊØîËæÉÁöÑ‰æùÊçÆÂàôÊòØÂú∞ÂùÄÁöÑÂîØ‰∏ÄÊ†áËØÜ„ÄÇ</p>
<p>‰∏äËø∞ÊÉÖÂÜµËøòÊúâÁöÑÂè¶‰∏ÄÁßçÂÆûÁé∞ÊñπÂºèÔºåÂç≥Êàë‰ª¨Â∞Ü‰ΩèÂ§ÑÊäΩË±°‰∏∫‰∏Ä‰∏™ÂÆû‰ΩìÔºåÁîµÂäõÁ≥ªÁªü‰∏é‰ΩèÂ§ÑËøõË°åÂÖ≥ËÅî„ÄÇ‰ΩèÂ§ÑÈáåÈù¢ÂåÖÂê´Âú∞ÂùÄÔºåËøô‰∏™Êó∂ÂÄôÂú∞ÂùÄÂ∞±ÊòØ‰∏Ä‰∏™ÂÄºÂØπË±°„ÄÇÂõ†‰∏∫Ëøô‰∏™Êó∂ÂÄôÁîµÂäõÁ≥ªÁªüÂÖ≥ÂøÉÁöÑÊòØ‰ΩèÂ§ÑÊòØÂê¶‰∏ÄËá¥ÔºåËÄåÂú∞ÂùÄÂàô‰Ωú‰∏∫‰∏Ä‰∏™ÊôÆÈÄöÁöÑÂ±ûÊÄßËÄåÂ∑≤„ÄÇ</p>
<p>ÂÖ≥‰∫éÂÄºÂØπË±°ÁöÑÂè¶‰∏Ä‰∏™Áî®Ê≥ïÂàôÊõ¥Âä†ÈÄö‰øóÔºå‰æãÂ¶Ç‰∏Ä‰∏™ Person Á±ªÔºå‰ªñÂéüÊù•ÁöÑÂÆö‰πâÊòØÊã•Êúâ‰∏Ä‰∏™ Id„ÄÅÂßìÂêç„ÄÅË°óÈÅì„ÄÅÁ§æÂå∫„ÄÅÂüéÂ∏Ç„ÄÇÈÇ£‰πàÊàë‰ª¨ÂèØ‰ª•Â∞ÜË°óÈÅì„ÄÅÁ§æÂå∫„ÄÅÂüéÂ∏ÇÊäΩË±°Âà∞‰∏Ä‰∏™ÂÄºÂØπË±° Address Á±ªÈáåÈù¢ÔºåÊØè‰∏™ÂÄºÂØπË±°ÂÜÖÈÉ®ÂåÖÂê´ÁöÑÂ±ûÊÄßÂ∫îËØ•ÂΩ¢Êàê‰∏Ä‰∏™<strong>Ê¶ÇÂøµ‰∏äÁöÑÊï¥‰Ωì</strong>„ÄÇ</p>
<h4 id="232-Â¶Ç‰ΩïÂÆûÁé∞">2.3.2 Â¶Ç‰ΩïÂÆûÁé∞</h4>
<p>ABP vNext ÂØπ‰∫éÂÄºÂØπË±°ÁöÑÂÆûÁé∞ÊòØÊØîËæÉÁ≤óÁ≥ôÁöÑÔºå‰ªñ‰ªÖÂèÇËÄÉ MSDN ÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ÁÆÄÂçïÁöÑ <code>ValueObject</code> Á±ªÂûãÔºåÂÖ∑‰ΩìÁöÑÁî®Ê≥ïÂºÄÂèë‰∫∫ÂëòÂèØ‰ª•ÂèÇËÄÉ <strong><a class="link" href="https://docs.microsoft.com/en-us/dotnet/standard/microservices-architecture/microservice-ddd-cqrs-patterns/implement-value-objects"  target="_blank" rel="noopener"
    >MSDN</a></strong> ÂÆûÁé∞ÂÄºÂØπË±°ÁöÑÁªÜËäÇÔºå‰∏ãÊñá‰ªÖÊòØÊëòÊäÑÈÉ®ÂàÜÂÜÖÂÆπËøõË°åÁÆÄË¶ÅÊèèËø∞„ÄÇ</p>
<p>MSDN ‰πüÊòØ‰ª•Âú∞ÂùÄ‰∏∫‰æãÔºå‰ªñÂ∞Ü Address ÂÆö‰πâ‰∏∫‰∏Ä‰∏™ÂÄºÂØπË±°ÔºåÂ¶Ç‰∏ã‰ª£Á†Å„ÄÇ</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="kd">public</span> <span class="k">class</span> <span class="nc">Address</span> <span class="p">:</span> <span class="n">ValueObject</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="n">String</span> <span class="n">Street</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="kd">private</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="n">String</span> <span class="n">City</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="kd">private</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="n">String</span> <span class="n">State</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="kd">private</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="n">String</span> <span class="n">Country</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="kd">private</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="n">String</span> <span class="n">ZipCode</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="kd">private</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kd">private</span> <span class="n">Address</span><span class="p">()</span> <span class="p">{</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="n">Address</span><span class="p">(</span><span class="kt">string</span> <span class="n">street</span><span class="p">,</span> <span class="kt">string</span> <span class="n">city</span><span class="p">,</span> <span class="kt">string</span> <span class="n">state</span><span class="p">,</span> <span class="kt">string</span> <span class="n">country</span><span class="p">,</span> <span class="kt">string</span> <span class="n">zipcode</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">Street</span> <span class="p">=</span> <span class="n">street</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="n">City</span> <span class="p">=</span> <span class="n">city</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="n">State</span> <span class="p">=</span> <span class="n">state</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="n">Country</span> <span class="p">=</span> <span class="n">country</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="n">ZipCode</span> <span class="p">=</span> <span class="n">zipcode</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kd">protected</span> <span class="kd">override</span> <span class="n">IEnumerable</span><span class="p">&lt;</span><span class="kt">object</span><span class="p">&gt;</span> <span class="n">GetAtomicValues</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// Using a yield return statement to return each element one at a time</span>
</span></span><span class="line"><span class="cl">        <span class="k">yield</span> <span class="k">return</span> <span class="n">Street</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">yield</span> <span class="k">return</span> <span class="n">City</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">yield</span> <span class="k">return</span> <span class="n">State</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">yield</span> <span class="k">return</span> <span class="n">Country</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">yield</span> <span class="k">return</span> <span class="n">ZipCode</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>‰∏çËøáÊàë‰ª¨Áü•ÈÅìÔºåÂ¶ÇÊûú‰∏Ä‰∏™ÂÄºÂØπË±°ÈúÄË¶ÅÊåÅ‰πÖÂåñÂà∞Êï∞ÊçÆÂ∫ìÔºåÊ≤°Êúâ Id Ê†áËØÜÂíãÂäûÔºüMSDN ‰∏äÈù¢‰πüËØ¥Êòé‰∫ÜÂú® EF Core 1.1 Âíå EF Core 2.0 ÁöÑÂ§ÑÁêÜÊñπÊ≥ïÔºåËøôÈáåÊàë‰ª¨Âè™ÁùÄÈáçËØ¥Êòé EF Core 2.0 ÁöÑÂ§ÑÁêÜÊñπÊ≥ï„ÄÇ</p>
<p>EF Core 2.0 ÂèØ‰ª•‰ΩøÁî® owned entity(Âõ∫ÊúâÂÆû‰ΩìÁ±ªÂûã) Êù•ÂÆûÁé∞ÂÄºÂØπË±°ÔºåÂõ∫ÊúâÂÆû‰ΩìÁöÑ‰ª•‰∏ãÁâπÂæÅÂèØ‰ª•Â∏ÆÂä©Êàë‰ª¨ÂÆûÁé∞ÂÄºÂØπË±°„ÄÇ</p>
<ul>
<li>Âõ∫ÊúâÂØπË±°ÂèØ‰ª•Áî®‰ΩúÂ±ûÊÄßÔºåÂπ∂‰∏îÊ≤°ÊúâËá™Â∑±ÁöÑÊ†áËØÜ„ÄÇ</li>
<li>Âú®Êü•ËØ¢ÊâÄÊúâÂÆû‰ΩìÊó∂ÔºåÂõ∫ÊúâÂÆû‰ΩìÂ∞Ü‰ºöÂåÖÂê´ËøõÂéª„ÄÇ‰æãÂ¶ÇÊàëÊü•ËØ¢ËÆ¢Âçï AÔºåÈÇ£‰πàÂ∞±‰ºöÂ∞ÜÂú∞ÂùÄËøô‰∏™ÂÄºÂØπË±°ÂåÖÂê´Âà∞ËÆ¢Âçï A ÁöÑÁªìÊûúÂΩì‰∏≠„ÄÇ</li>
</ul>
<p>‰ΩÜ‰∏Ä‰∏™Á±ªÂûã‰∏çÁÆ°ÊÄéÊ†∑ÈÉΩÊòØ‰ºöÊã•ÊúâÂÆÉËá™Â∑±ÁöÑÊ†áËØÜÁöÑÔºåËøôÈáå‰∏çÂÜçËØ¶ÁªÜÂèôËø∞ÔºåÊõ¥Âä†ËØ¶ÁªÜÁöÑÂèØ‰ª•ÂèÇËÄÉ MSDN Ëã±ÊñáÂéüÁâàËØ¥Êòé„ÄÇ(‰∏≠ÊñáÁâàÁøªËØëÊúâÈóÆÈ¢ò)</p>
<blockquote>
<ul>
<li>The identity of the owner</li>
<li>The navigation property pointing to them</li>
<li>In the case of collections of owned types, an independent component (not yet supported in EF Core 2.0, coming up on 2.2).</li>
</ul>
</blockquote>
<p>EF Core ‰∏ç‰ºöËá™Âä®ÂèëÁé∞Âõ∫ÊúâÂÆû‰ΩìÁ±ªÂûãÔºåÈúÄË¶ÅÊòæÁ§∫Â£∞ÊòéÔºåËøôÈáå‰ª• MSDN ÂÆòÊñπÁöÑ eShopOnContainers DEMO ‰∏∫‰æã„ÄÇ</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="kd">protected</span> <span class="kd">override</span> <span class="k">void</span> <span class="n">OnModelCreating</span><span class="p">(</span><span class="n">ModelBuilder</span> <span class="n">modelBuilder</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">modelBuilder</span><span class="p">.</span><span class="n">ApplyConfiguration</span><span class="p">(</span><span class="k">new</span> <span class="n">ClientRequestEntityTypeConfiguration</span><span class="p">());</span>
</span></span><span class="line"><span class="cl">    <span class="n">modelBuilder</span><span class="p">.</span><span class="n">ApplyConfiguration</span><span class="p">(</span><span class="k">new</span> <span class="n">PaymentMethodEntityTypeConfiguration</span><span class="p">());</span>
</span></span><span class="line"><span class="cl">    <span class="n">modelBuilder</span><span class="p">.</span><span class="n">ApplyConfiguration</span><span class="p">(</span><span class="k">new</span> <span class="n">OrderEntityTypeConfiguration</span><span class="p">());</span>
</span></span><span class="line"><span class="cl">    <span class="n">modelBuilder</span><span class="p">.</span><span class="n">ApplyConfiguration</span><span class="p">(</span><span class="k">new</span> <span class="n">OrderItemEntityTypeConfiguration</span><span class="p">());</span>
</span></span><span class="line"><span class="cl">    <span class="c1">//...Additional type configurations</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Êé•ÁùÄÊàë‰ª¨Êù•Âà∞ <code>OrderEntityTypeConfiguration</code> Á±ªÂûãÁöÑ <code>Configure()</code> ÊñπÊ≥ï‰∏≠„ÄÇ</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="kd">public</span> <span class="k">void</span> <span class="n">Configure</span><span class="p">(</span><span class="n">EntityTypeBuilder</span><span class="p">&lt;</span><span class="n">Order</span><span class="p">&gt;</span> <span class="n">orderConfiguration</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">orderConfiguration</span><span class="p">.</span><span class="n">ToTable</span><span class="p">(</span><span class="s">&#34;orders&#34;</span><span class="p">,</span> <span class="n">OrderingContext</span><span class="p">.</span><span class="n">DEFAULT_SCHEMA</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">orderConfiguration</span><span class="p">.</span><span class="n">HasKey</span><span class="p">(</span><span class="n">o</span> <span class="p">=&gt;</span> <span class="n">o</span><span class="p">.</span><span class="n">Id</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">orderConfiguration</span><span class="p">.</span><span class="n">Ignore</span><span class="p">(</span><span class="n">b</span> <span class="p">=&gt;</span> <span class="n">b</span><span class="p">.</span><span class="n">DomainEvents</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">orderConfiguration</span><span class="p">.</span><span class="n">Property</span><span class="p">(</span><span class="n">o</span> <span class="p">=&gt;</span> <span class="n">o</span><span class="p">.</span><span class="n">Id</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="p">.</span><span class="n">ForSqlServerUseSequenceHiLo</span><span class="p">(</span><span class="s">&#34;orderseq&#34;</span><span class="p">,</span> <span class="n">OrderingContext</span><span class="p">.</span><span class="n">DEFAULT_SCHEMA</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// ËØ¥Êòé Address Â±ûÊÄßÊòØ Order Á±ªÂûãÁöÑÂõ∫ÊúâÂÆû‰Ωì„ÄÇ</span>
</span></span><span class="line"><span class="cl">    <span class="n">orderConfiguration</span><span class="p">.</span><span class="n">OwnsOne</span><span class="p">(</span><span class="n">o</span> <span class="p">=&gt;</span> <span class="n">o</span><span class="p">.</span><span class="n">Address</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">orderConfiguration</span><span class="p">.</span><span class="n">Property</span><span class="p">&lt;</span><span class="n">DateTime</span><span class="p">&gt;(</span><span class="s">&#34;OrderDate&#34;</span><span class="p">).</span><span class="n">IsRequired</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">//...Additional validations, constraints and code...</span>
</span></span><span class="line"><span class="cl">    <span class="c1">//...</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºåEF Core ‰ºöÂ∞ÜÂõ∫ÊúâÂÆû‰ΩìÁöÑÊï∞ÊçÆÂ∫ìÂàóÂêçÔºå‰ª• &lt;ÂÆû‰ΩìÁöÑÂ±ûÊÄßÂêç&gt;_&lt;Âõ∫ÊúâÂÆû‰ΩìÁöÑÂ±ûÊÄß&gt;„ÄÇ‰ª•‰∏äÈù¢ÁöÑ <code>Address</code> Á±ªÂûãÂ≠óÊÆµ‰∏∫‰æãÔºåÂ∞Ü‰ºöÁîüÊàê <code>Address_Street</code> „ÄÅ<code>Address_City</code> ËøôÊ†∑ÁöÑÂêçÁß∞„ÄÇ‰Ω†‰πüÂèØ‰ª•ÈÄöËøáÊµÅÁïÖÊé•Âè£Êù•ÈáçÂëΩÂêçËøô‰∫õÂàóÔºå‰ª£Á†ÅÂ¶Ç‰∏ãÔºö</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="n">orderConfiguration</span><span class="p">.</span><span class="n">OwnsOne</span><span class="p">(</span><span class="n">p</span> <span class="p">=&gt;</span> <span class="n">p</span><span class="p">.</span><span class="n">Address</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">                            <span class="p">.</span><span class="n">Property</span><span class="p">(</span><span class="n">p</span><span class="p">=&gt;</span><span class="n">p</span><span class="p">.</span><span class="n">Street</span><span class="p">).</span><span class="n">HasColumnName</span><span class="p">(</span><span class="s">&#34;ShippingStreet&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">orderConfiguration</span><span class="p">.</span><span class="n">OwnsOne</span><span class="p">(</span><span class="n">p</span> <span class="p">=&gt;</span> <span class="n">p</span><span class="p">.</span><span class="n">Address</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">                            <span class="p">.</span><span class="n">Property</span><span class="p">(</span><span class="n">p</span><span class="p">=&gt;</span><span class="n">p</span><span class="p">.</span><span class="n">City</span><span class="p">).</span><span class="n">HasColumnName</span><span class="p">(</span><span class="s">&#34;ShippingCity&#34;</span><span class="p">);</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="24-ËÅöÂêà">2.4 ËÅöÂêà</h3>
<p>Â¶ÇÊûúËØ¥ÂÆû‰ΩìÁöÑÊ¶ÇÂøµËøòÊØîËæÉÂ•ΩÁêÜËß£ÁöÑËØùÔºåÈÇ£‰πàËÅöÂêàÂàôÊòØÂú®ÂÆû‰Ωì‰πã‰∏äÊñ∞ÁöÑÊäΩË±°„ÄÇËÅöÂêàÂ∞±ÊòØ‰∏ÄÁªÑÁõ∏ÂÖ≥ÂØπË±°ÁöÑÈõÜÂêàÔºå‰ªñ‰ºöÊúâ‰∏Ä‰∏™<strong>Ê†πÂØπË±°(root)</strong>ÔºåÂíåÂÆÉÁöÑ‰∏Ä‰∏™<strong>ËæπÁïå(boundary)</strong>„ÄÇÂØπ‰∫éËÅöÂêàÂ§ñÈÉ®Êù•ËØ¥ÔºåÂè™ËÉΩÂ§üÂºïÁî®ÂÆÉÁöÑÊ†πÂØπË±°ÔºåËÄåÂú®ËÅöÂêàÂÜÖÈÉ®ÁöÑÂÖ∂‰ªñÂØπË±°ÂàôÂèØ‰ª•Áõ∏‰∫íÂºïÁî®„ÄÇ</p>
<p>‰∏Ä‰∏™ÁÆÄÂçïÁöÑ‰æãÂ≠ê(„ÄäÈ¢ÜÂüüÈ©±Âä®ËÆæËÆ°„Äã)Êù•ËØ¥ÔºåÊ±ΩËΩ¶ÊòØ‰∏Ä‰∏™ÂÖ∑ÊúâÂÖ®Â±ÄÊ†áËØÜÁöÑÂÆû‰ΩìÔºåÊØè‰∏ÄËæÜÊ±ΩËΩ¶ÈÉΩÊã•ÊúâËá™Â∑±ÂîØ‰∏ÄÁöÑÊ†áËØÜ„ÄÇÂú®Êüê‰∫õÊó∂ÂÄôÔºåÊàë‰ª¨ÂèØËÉΩ‰ºöÈúÄË¶ÅÁü•ÈÅìËΩÆËÉéÁöÑÁ£®ÊçüÊÉÖÂÜµ‰∏éÂÖ¨ÈáåÊï∞ÔºåÂõ†‰∏∫Ê±ΩËΩ¶ÊúâÂõõ‰∏™ËΩÆËÉéÔºåÊâÄ‰ª•Êàë‰ª¨‰πüÈúÄË¶ÅÂ∞ÜËΩÆËÉéËßÜ‰∏∫<strong>ÂÆû‰ΩìÔºå‰∏∫ÂÖ∂ÂàÜÈÖçÂîØ‰∏ÄÊú¨Âú∞ÁöÑÊ†áËØÜ</strong>ÔºåËøô‰∏™Ê†áËØÜÊòØËÅöÂêàÂÜÖÂîØ‰∏ÄÁöÑ„ÄÇ‰ΩÜÊòØÂú®ËÑ±Á¶ª‰∫ÜÊ±ΩËΩ¶Ëøô‰∏™ËæπÁïå‰πãÂêéÔºåÊàë‰ª¨Â∞±‰∏çÈúÄË¶ÅÂÖ≥ÂøÉËøô‰∫õËΩÆËÉéÁöÑÊ†áËØÜ„ÄÇ</p>
<p>ÊâÄ‰ª•Âú®‰∏äËø∞‰æãÂ≠êÂΩì‰∏≠ÔºåÊ±ΩËΩ¶ÊòØ‰∏Ä‰∏™ËÅöÂêàÁöÑÊ†πÂÆû‰ΩìÔºåËÄåËΩÆËÉéÂ§Ñ‰∫éËøô‰∏™ËÅöÂêàÁöÑËæπÁïå‰πãÂÜÖ„ÄÇ</p>
<p><img src="/p/abp-vnext-source-code-analysis---5-domain-layer-support-for-ddd-repository-entity-value-object/1563374038731.png"
	width="1862"
	height="1272"
	srcset="/p/abp-vnext-source-code-analysis---5-domain-layer-support-for-ddd-repository-entity-value-object/1563374038731_hue576407a3cbcc9125e5f42fdf18da99e_44466_480x0_resize_box_3.png 480w, /p/abp-vnext-source-code-analysis---5-domain-layer-support-for-ddd-repository-entity-value-object/1563374038731_hue576407a3cbcc9125e5f42fdf18da99e_44466_1024x0_resize_box_3.png 1024w"
	loading="lazy"
	
		alt="1563374038731"
	
	
		class="gallery-image" 
		data-flex-grow="146"
		data-flex-basis="351px"
	
></p>
<p>ÈÇ£‰πà‰∏Ä‰∏™ËÅöÂêàÂ∫îËØ•ÊÄéÊ†∑ËøõË°åËÆæËÆ°Âë¢ÔºüËøôÈáåÊàëÂºïÁî®Ê±§Èõ™ÂçéÂ§ßÁ•ûÁöÑ <a class="link" href="https://www.cnblogs.com/netfocus/p/3307971.html"  target="_blank" rel="noopener"
    >„ÄäÂÖ≥‰∫éÈ¢ÜÂüüÈ©±Âä®ËÆæËÆ°ÔºàDDDÔºâ‰∏≠ËÅöÂêàËÆæËÆ°ÁöÑ‰∏Ä‰∫õÊÄùËÄÉ„Äã</a> Âíå <a class="link" href="https://www.cnblogs.com/netfocus/archive/2012/02/12/2347938.html"  target="_blank" rel="noopener"
    >„ÄäËÅöÂêàÔºàÊ†πÔºâ„ÄÅÂÆû‰Ωì„ÄÅÂÄºÂØπË±°Á≤æÁÇºÊÄùËÄÉÊÄªÁªì„Äã</a> ËØ¥Êòé‰∏Ä‰∏ãËÅöÂêàÊ†πË¶ÅÊÄé‰πàËÆæËÆ°ÊâçÂêàÁêÜ„ÄÇ</p>
<p>ËÅöÂêàÁöÑÂá†Â§ßËÆæËÆ°ÂéüÂàôÔºö</p>
<ol>
<li>ËÅöÂêàÊòØÁî®Êù•Â∞ÅË£Ö<strong>‰∏çÂèòÊÄßÔºàÂç≥Âõ∫ÂÆöËßÑÂàôÔºâ</strong>ÔºåËÄå‰∏çÊòØÂ∞ÜÈ¢ÜÂüüÂØπË±°ÁÆÄÂçïÁªÑÂêàÂà∞‰∏ÄËµ∑„ÄÇ</li>
<li>ËÅöÂêàÂ∫îËØ•Â∞ΩÈáèËÆæËÆ°ÊàêÂ∞èËÅöÂêà„ÄÇ</li>
<li>ËÅöÂêà‰∏éËÅöÂêà‰πãÈó¥ÁöÑÂÖ≥Á≥ªÂ∫îËØ•ÈÄöËøá Id ËøõË°åÂºïÁî®„ÄÇ</li>
<li>ËÅöÂêàÂÜÖÈÉ®Â∫îËØ•ÊòØÂº∫‰∏ÄËá¥ÊÄßÔºàÂêå‰∏Ä‰∫ãÂä°ÔºâÔºåËÅöÂêà‰πãÈó¥Âè™ÈúÄË¶ÅËøΩÊ±ÇÊúÄÁªà‰∏ÄËá¥ÊÄßÂç≥ÂèØ„ÄÇ</li>
</ol>
<p>‰ª•‰∏äÂÜÖÂÆπÊàë‰ª¨ËøòÊòØ‰ª•ÁªèÂÖ∏ÁöÑËÆ¢ÂçïÁ≥ªÁªüÊù•‰∏æ‰æãÂ≠êÔºåËØ¥ÊòéÊàë‰ª¨ÁöÑÂÆû‰Ωì‰∏éËÅöÂêàÂ∫îËØ•ÊÄéÊ†∑ËøõË°åÂàíÂàÜ„ÄÇÊàë‰ª¨Êúâ‰∏Ä‰∏™ËÆ¢ÂçïÁ≥ªÁªüÔºåÂÖ∂ÁªìÊûÑÂ¶Ç‰∏ãÂõæÔºö</p>
<p><img src="/p/abp-vnext-source-code-analysis---5-domain-layer-support-for-ddd-repository-entity-value-object/1563553347212.png"
	width="872"
	height="370"
	srcset="/p/abp-vnext-source-code-analysis---5-domain-layer-support-for-ddd-repository-entity-value-object/1563553347212_hu65f75b24179bfd34be448853ab45c10d_85221_480x0_resize_box_3.png 480w, /p/abp-vnext-source-code-analysis---5-domain-layer-support-for-ddd-repository-entity-value-object/1563553347212_hu65f75b24179bfd34be448853ab45c10d_85221_1024x0_resize_box_3.png 1024w"
	loading="lazy"
	
		alt="1563553347212"
	
	
		class="gallery-image" 
		data-flex-grow="235"
		data-flex-basis="565px"
	
></p>
<p>ÂÖ∂‰∏≠Êúâ‰∏Ä‰∏™Âõ∫ÂÆöËßÑÂàôÔºåÂ∞±ÊòØÈááË¥≠È°π(Line Item)ÁöÑÊÄªÈáè‰∏çËÉΩÂ§üË∂ÖËøá PO ÊÄªÈ¢ù(approved limit)ÁöÑÈôêÂà∂ÔºåËøôÈáåÁöÑ Part ÊòØÂÖ∑‰ΩìÈááË¥≠ÁöÑÈÉ®‰ª∂(‰∫ßÂìÅ)ÔºåÂÆÉÊã•Êúâ‰∏Ä‰∏™ price Â±ûÊÄß‰Ωú‰∏∫ÂÆÉÁöÑÈáëÈ¢ù„ÄÇ</p>
<p>‰ªé‰∏äËø∞‰∏öÂä°Âú∫ÊôØÊàë‰ª¨Â∞±ÂèØ‰ª•ÂæóÂá∫‰ª•‰∏ãÈóÆÈ¢òÔºö</p>
<ol>
<li>Âõ∫ÂÆöËßÑÂàôÁöÑÂÆûÊñΩÔºåÂç≥Ê∑ªÂä†Êñ∞ÁöÑÈááË¥≠È°πÊó∂ÔºåPO ÈúÄË¶ÅÊ£ÄÊü•ÊÄªÈ¢ùÔºåÂ¶ÇÊûúË∂ÖÂá∫ÈôêÂà∂ËßÜ‰∏∫Êó†Êïà„ÄÇ</li>
<li>ÂΩì PO Ë¢´Âà†Èô§ÊàñËÄÖÂ≠òÊ°£Êó∂ÔºåÈááË¥≠È°π‰πüÂ∫îËØ•‰∏ÄÂπ∂Â§ÑÁêÜ„ÄÇÔºà<strong>ÂêåÁîüÂÖ±Ê≠ªÂéüÂàô</strong>Ôºâ</li>
<li>Â§öÁî®Êà∑ÁöÑÁ´û‰∫âÈóÆÈ¢òÔºåÂ¶ÇÊûúÂú®ÈááË¥≠ËøáÁ®ã‰∏≠ÔºåÈááË¥≠È°π‰∏éÈÉ®‰ª∂ÈÉΩË¢´Áî®Êà∑‰øÆÊîπÔºå‰ºö‰∫ßÁîüÈóÆÈ¢ò„ÄÇ</li>
</ol>
<p><strong>Âú∫ÊôØ 1Ôºö</strong></p>
<p>ÂΩìÁî®Êà∑ÁºñËæë‰ªª‰Ωï‰∏Ä‰∏™ÂØπË±°Êó∂ÔºåÈîÅÂÆöËØ•ÂØπË±°ÔºåÁõ¥Âà∞ÁºñËæëÂÆåÊàêÊèê‰∫§‰∫ãÂä°„ÄÇËøôÊ†∑Â∞±‰ºöÈÄ†Êàê George ÁºñËæëËÆ¢Âçï #0001 ÁöÑÈááË¥≠È°π 001 Êó∂ÔºåAmanda Êó†Ê≥ï‰øÆÊîπËØ•ÈááË¥≠È°π„ÄÇ‰ΩÜÊòØ Amanda ÂèØ‰ª•‰øÆÊîπÂÖ∂‰ªñÁöÑÈááË¥≠È°πÔºåËøôÊ†∑ÊúÄÂêéÊèê‰∫§ÁöÑÊó∂ÂÄôÂ∞±‰ºöÂØºËá¥ #0001 ËÆ¢ÂçïÁ†¥Âùè‰∫ÜÂõ∫ÂÆöËßÑÂàô„ÄÇ</p>
<p><img src="/p/abp-vnext-source-code-analysis---5-domain-layer-support-for-ddd-repository-entity-value-object/1563555072130.png"
	width="1785"
	height="985"
	srcset="/p/abp-vnext-source-code-analysis---5-domain-layer-support-for-ddd-repository-entity-value-object/1563555072130_hue53fe27c991ae2b71c8f3bb766a09b71_447855_480x0_resize_box_3.png 480w, /p/abp-vnext-source-code-analysis---5-domain-layer-support-for-ddd-repository-entity-value-object/1563555072130_hue53fe27c991ae2b71c8f3bb766a09b71_447855_1024x0_resize_box_3.png 1024w"
	loading="lazy"
	
		alt="1563555072130"
	
	
		class="gallery-image" 
		data-flex-grow="181"
		data-flex-basis="434px"
	
></p>
<p><strong>Âú∫ÊôØ 2Ôºö</strong></p>
<p>Â¶ÇÊûúÈîÅÂÆöÂçïË°åÂØπË±°‰∏çË°åÔºåÈÇ£‰πàÊàë‰ª¨Áõ¥Êé•ÈîÅÂÆö PO ÂØπË±°ÔºåÂπ∂‰∏î‰∏∫‰∫ÜÈò≤Ê≠¢ Part ÁöÑ‰ª∑Ê†ºË¢´‰øÆÊîπÔºåPart ÂØπË±°‰πüÈúÄË¶ÅË¢´ÈîÅÂÆö„ÄÇËøôÊ†∑Â∞±‰ºöÈÄ†ÊàêÂ§™Â§öÁöÑÊï∞ÊçÆ‰∫âÁî®ÔºåÁé∞Âú® 3 ‰∏™‰∫∫ÈÉΩÈúÄË¶ÅÁ≠âÂæÖ„ÄÇ</p>
<p><img src="/p/abp-vnext-source-code-analysis---5-domain-layer-support-for-ddd-repository-entity-value-object/1563555184451.png"
	width="855"
	height="556"
	srcset="/p/abp-vnext-source-code-analysis---5-domain-layer-support-for-ddd-repository-entity-value-object/1563555184451_hu52b155ecc2ab478d9f862a699971f18f_182178_480x0_resize_box_3.png 480w, /p/abp-vnext-source-code-analysis---5-domain-layer-support-for-ddd-repository-entity-value-object/1563555184451_hu52b155ecc2ab478d9f862a699971f18f_182178_1024x0_resize_box_3.png 1024w"
	loading="lazy"
	
		alt="1563555184451"
	
	
		class="gallery-image" 
		data-flex-grow="153"
		data-flex-basis="369px"
	
></p>
<p>‰ªé‰∏äËø∞Âú∫ÊôØÊù•ÁúãÔºåÊàë‰ª¨ÂèØ‰ª•ÂæóÂá∫‰ª•‰∏ãÁªìËÆ∫Ôºö</p>
<ol>
<li>Part Âú®ÂæàÂ§ö PO ÂΩì‰∏≠Ë¢´‰ΩøÁî®„ÄÇ</li>
<li>ÂØπ Part ÁöÑ‰øÆÊîπÂ∞ë‰∫éÂØπ PO ÁöÑ‰øÆÊîπ„ÄÇ</li>
<li>PO ‰∏éÈááË¥≠È°π‰∏çËÉΩÂàÜÂºÄÔºåÂêéËÄÖÁã¨Á´ãÂ≠òÂú®Ê≤°ÊúâÊÑè‰πâ„ÄÇ</li>
<li>ÂØπ Part ÁöÑ‰ª∑Ê†º‰øÆÊîπ‰∏ç‰∏ÄÂÆöË¶ÅÂÆûÊó∂‰º†Êí≠Áªô POÔºå‰ªÖÂèñÂÜ≥‰∫é‰øÆÊîπ‰ª∑Ê†ºÊó∂ PO Â§Ñ‰∫é‰ªÄ‰πàÁä∂ÊÄÅ„ÄÇ</li>
</ol>
<p>Êúâ‰ª•‰∏äÁªìËÆ∫ÂèØ‰ª•Áü•ÈÅìÔºåÊàë‰ª¨ÂèØ‰ª•Â∞Ü Part ÁöÑ‰ª∑Ê†ºÂÜó‰ΩôÂà∞ÈááË¥≠È°πÔºåPO ÂíåÈááË¥≠È°πÁöÑÂàõÂª∫‰∏éÂà†Èô§ÊòØÂæàËá™ÁÑ∂ÁöÑ‰∏öÂä°ËßÑÂàôÔºåËÄå Part ÁöÑÂàõÂª∫‰∏éÂà†Èô§ÊòØÁã¨Á´ãÁöÑÔºåÊâÄ‰ª•Â∞Ü PO ‰∏éÈááË¥≠È°πËÉΩÂàí‰∏∫‰∏Ä‰∏™ËÅöÂêà„ÄÇ</p>
<p><img src="/p/abp-vnext-source-code-analysis---5-domain-layer-support-for-ddd-repository-entity-value-object/1563555404214.png"
	width="868"
	height="527"
	srcset="/p/abp-vnext-source-code-analysis---5-domain-layer-support-for-ddd-repository-entity-value-object/1563555404214_hud84c8db94e1e9920b03d566482abd1d5_108809_480x0_resize_box_3.png 480w, /p/abp-vnext-source-code-analysis---5-domain-layer-support-for-ddd-repository-entity-value-object/1563555404214_hud84c8db94e1e9920b03d566482abd1d5_108809_1024x0_resize_box_3.png 1024w"
	loading="lazy"
	
		alt="1563555404214"
	
	
		class="gallery-image" 
		data-flex-grow="164"
		data-flex-basis="395px"
	
></p>
<p>Abp vNext Ê°ÜÊû∂‰πü‰∏∫Êàë‰ª¨Êèê‰æõ‰∫ÜËÅöÂêàÁöÑÂÆö‰πâ‰∏éÂÖ∑‰ΩìÂÆûÁé∞ÔºåÂç≥ <code>AggregateRoot</code> Á±ªÂûã„ÄÇËØ•Á±ªÂûã‰πüÁªßÊâøËá™ <code>Entity</code> Á±ªÂûãÔºåÂπ∂‰∏îÂÜÖÈÉ®Êèê‰æõ‰∫Ü‰∏Ä‰∏™Âπ∂Âèë‰ª§ÁâåÈò≤Ê≠¢Âπ∂ÂèëÂÜ≤Á™Å„ÄÇ</p>
<p>Âπ∂‰∏îÂú®ÂÖ∂ÂÜÖÈÉ®‰πüÊèê‰æõ‰∫ÜÈ¢ÜÂüü‰∫ã‰ª∂ÁöÑÂø´ÈÄüÂ¢ûÂà†ÊñπÊ≥ïÔºåÂÖ∂‰ªñÁöÑ‰∏éÂ∏∏ËßÑÂÆû‰ΩìÂü∫Êú¨‰∏ÄËá¥„ÄÇ<strong>ÈÄöËøáÈ¢ÜÂüü‰∫ã‰ª∂ÔºåÊàë‰ª¨ÂèØ‰ª•ÂÆåÊàêÂØπ‰∫ãÂä°ÁöÑÊãÜÂàÜ</strong>„ÄÇ‰æãÂ¶Ç‰∏äËø∞ÁöÑ‰æãÂ≠êÂΩì‰∏≠ÔºåÊàë‰ª¨‰πüÂèØ‰ª•‰∏∫ Part Â¢ûÂä†‰∏Ä‰∏™È¢ÜÂüü‰∫ã‰ª∂ÔºåÂΩì‰ª∑Ê†ºË¢´Êõ¥Êñ∞Êó∂ÔºåPO ÂèØ‰ª•ËÆ¢ÈòÖËøô‰∏™‰∫ã‰ª∂ÔºåÂÆûÁé∞ÂØπÂ∫îÁöÑÈááË¥≠È°πÊõ¥Êñ∞„ÄÇ</p>
<p>Âè™ÊòØËøôÈáå‰Ω†‰ºöÂ•áÊÄ™ÔºåÂ¢ûÂä†ÁöÑ‰∫ã‰ª∂Âà∞Âì™ÂÑøÂéª‰∫ÜÂë¢Ôºü‰ªñ‰ª¨Ëøô‰∫õ‰∫ã‰ª∂ÊúÄÁªà‰ºöË¢´Ê∑ªÂä†Âà∞ <code>EntityChangeReport</code> Á±ªÂûãÁöÑ <code>DomainEvents</code> ÈõÜÂêàÈáåÈù¢ÔºåÂπ∂‰∏îÂú®ÂÆû‰ΩìÂèòÊõ¥Êó∂ËøõË°åËß¶Âèë„ÄÇ</p>
<p>ÂÖ≥‰∫éËÅöÂêàÁöÑ <strong><a class="link" href="https://docs.abp.io/en/abp/latest/Entities"  target="_blank" rel="noopener"
    >Á§∫‰æã</a></strong>ÔºåÂú® ABP vNext ÂÆòÁΩëÂ∑≤ÁªèÊúâÂçÅÂàÜËØ¶ÁªÜÁöÑÊèèËø∞ÔºåËøôÈáåÊàëË¥¥‰∏ä‰ª£Á†Å‰æõÂ§ßÂÆ∂ÁêÜËß£‰ª•‰∏ãÔºåÂÆòÊñπÁöÑ‰æãÂ≠ê‰ªçÁÑ∂ÊòØ‰ª•ËÆ¢ÂçïÂíåÈááË¥≠È°πÊù•ËØ¥ÁöÑ„ÄÇ</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span><span class="lnt">64
</span><span class="lnt">65
</span><span class="lnt">66
</span><span class="lnt">67
</span><span class="lnt">68
</span><span class="lnt">69
</span><span class="lnt">70
</span><span class="lnt">71
</span><span class="lnt">72
</span><span class="lnt">73
</span><span class="lnt">74
</span><span class="lnt">75
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="kd">public</span> <span class="k">class</span> <span class="nc">Order</span> <span class="p">:</span> <span class="n">AggregateRoot</span><span class="p">&lt;</span><span class="n">Guid</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="k">virtual</span> <span class="kt">string</span> <span class="n">ReferenceNo</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="kd">protected</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="k">virtual</span> <span class="kt">int</span> <span class="n">TotalItemCount</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="kd">protected</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="k">virtual</span> <span class="n">DateTime</span> <span class="n">CreationTime</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="kd">protected</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="k">virtual</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">OrderLine</span><span class="p">&gt;</span> <span class="n">OrderLines</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="kd">protected</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kd">protected</span> <span class="n">Order</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="n">Order</span><span class="p">(</span><span class="n">Guid</span> <span class="n">id</span><span class="p">,</span> <span class="kt">string</span> <span class="n">referenceNo</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">Check</span><span class="p">.</span><span class="n">NotNull</span><span class="p">(</span><span class="n">referenceNo</span><span class="p">,</span> <span class="n">nameof</span><span class="p">(</span><span class="n">referenceNo</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">        <span class="n">Id</span> <span class="p">=</span> <span class="n">id</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="n">ReferenceNo</span> <span class="p">=</span> <span class="n">referenceNo</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">        <span class="n">OrderLines</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">OrderLine</span><span class="p">&gt;();</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="k">void</span> <span class="n">AddProduct</span><span class="p">(</span><span class="n">Guid</span> <span class="n">productId</span><span class="p">,</span> <span class="kt">int</span> <span class="n">count</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">count</span> <span class="p">&lt;=</span> <span class="m">0</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="k">throw</span> <span class="k">new</span> <span class="n">ArgumentException</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">                <span class="s">&#34;You can not add zero or negative count of products!&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="n">nameof</span><span class="p">(</span><span class="n">count</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="kt">var</span> <span class="n">existingLine</span> <span class="p">=</span> <span class="n">OrderLines</span><span class="p">.</span><span class="n">FirstOrDefault</span><span class="p">(</span><span class="n">ol</span> <span class="p">=&gt;</span> <span class="n">ol</span><span class="p">.</span><span class="n">ProductId</span> <span class="p">==</span> <span class="n">productId</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">existingLine</span> <span class="p">==</span> <span class="kc">null</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="n">OrderLines</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="k">new</span> <span class="n">OrderLine</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="n">Id</span><span class="p">,</span> <span class="n">productId</span><span class="p">,</span> <span class="n">count</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="k">else</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="n">existingLine</span><span class="p">.</span><span class="n">ChangeCount</span><span class="p">(</span><span class="n">existingLine</span><span class="p">.</span><span class="n">Count</span> <span class="p">+</span> <span class="n">count</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="n">TotalItemCount</span> <span class="p">+=</span> <span class="n">count</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="k">class</span> <span class="nc">OrderLine</span> <span class="p">:</span> <span class="n">Entity</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="k">virtual</span> <span class="n">Guid</span> <span class="n">OrderId</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="kd">protected</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="k">virtual</span> <span class="n">Guid</span> <span class="n">ProductId</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="kd">protected</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="k">virtual</span> <span class="kt">int</span> <span class="n">Count</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="kd">protected</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kd">protected</span> <span class="n">OrderLine</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kd">internal</span> <span class="n">OrderLine</span><span class="p">(</span><span class="n">Guid</span> <span class="n">orderId</span><span class="p">,</span> <span class="n">Guid</span> <span class="n">productId</span><span class="p">,</span> <span class="kt">int</span> <span class="n">count</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">OrderId</span> <span class="p">=</span> <span class="n">orderId</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="n">ProductId</span> <span class="p">=</span> <span class="n">productId</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="n">Count</span> <span class="p">=</span> <span class="n">count</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kd">internal</span> <span class="k">void</span> <span class="n">ChangeCount</span><span class="p">(</span><span class="kt">int</span> <span class="n">newCount</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">Count</span> <span class="p">=</span> <span class="n">newCount</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="25-ÊúçÂä°-service">2.5 ÊúçÂä° (Service)</h3>
<p>Ê†πÊçÆ DDD ÁêÜËÆ∫Êù•ËØ¥ÔºåÊØè‰∏™ÂÆû‰ΩìÊàñËÄÖÂÄºÂØπË±°Â∑≤ÁªèÂÖ∑Êúâ‰∏Ä‰∫õ‰∏öÂä°ÊñπÊ≥ïÔºå‰∏∫‰ªÄ‰πàËøòÈúÄË¶ÅÊúçÂä°ÂØπË±°Êù•ËøõË°åÂ§ÑÁêÜÂë¢Ôºü</p>
<p>Âõ†‰∏∫Âú®Êüê‰∫õÊÉÖÂÜµ‰∏ãÔºåÊüê‰∫õÈáçË¶ÅÁöÑÈ¢ÜÂüüÂä®‰ΩúÈÉΩ‰∏çÂ±û‰∫é‰ªª‰ΩïÂÆû‰ΩìÊàñËÄÖÂÄºÂØπË±°ÔºåÂº∫Ë°åÂ∞ÜÂÆÉÂΩíÁ∫≥Âú®Êüê‰∏Ä‰∏™ÂØπË±°ÈáåÈù¢ÔºåÈÇ£‰πàÂ∞±‰ºö‰∫ßÁîüÊ¶ÇÂøµ‰∏äÁöÑÊ∑∑Ê∑Ü„ÄÇ</p>
<p>ÊúçÂä°ÈÉΩÊòØÊ≤°ÊúâËá™Â∑±ÁöÑÁä∂ÊÄÅÔºåÂÆÉ‰ª¨Èô§‰∫ÜÊâøËΩΩÈ¢ÜÂüüÊìç‰Ωú‰ª•Â§ñÊ≤°ÊúâÂÖ∂‰ªñ‰ªª‰ΩïÊÑè‰πâ„ÄÇÊúçÂä°ÂàôÊòØ‰Ωú‰∏∫‰∏ÄÁßçÊé•Âè£Êèê‰æõÊìç‰ΩúÔºå‰∏Ä‰∏™ËâØÂ•ΩÁöÑÊúçÂä°ÂÆö‰πâÊã•Êúâ‰∏Ä‰∏ãÂá†‰∏™ÁâπÂæÅ„ÄÇ</p>
<ul>
<li>‰∏éÈ¢ÜÂüüÊ¶ÇÂøµÁõ∏ÂÖ≥ÁöÑÊìç‰Ωú‰∏çÊòØÂÆû‰ΩìÊàñËÄÖÂÄºÂØπË±°ÁöÑ<strong>Ëá™ÁÑ∂ÁªÑÊàêÈÉ®ÂàÜ</strong>„ÄÇ</li>
<li>Êé•Âè£ÊòØÊ†πÊçÆÈ¢ÜÂüüÊ®°ÂûãÁöÑÂÖ∂‰ªñÂÖÉÁ¥†ÂÆö‰πâÁöÑ„ÄÇ</li>
<li>Êìç‰ΩúÊòØÊó†Áä∂ÊÄÅÁöÑ„ÄÇ</li>
</ul>
<p>‰ªé‰∏äËø∞ÂÆö‰πâÊù•ÁúãÔºåÊàë‰ª¨ÁöÑ**ÊéßÂà∂Âô®(Controller)**Â∞±Á¨¶ÂêàËøôÂá†‰∏™ÁâπÂæÅÔºåÂ∞§ÂÖ∂ÊòØÊó†Áä∂ÊÄÅÁöÑÂÆö‰πâ„ÄÇÈÇ£‰πàÊàë‰ª¨Âì™‰∫õÊìç‰ΩúËÉΩÂ§üÊîæÂà∞ÊúçÂä°ÂØπË±°ÂΩì‰∏≠Âë¢ÔºüÊ†πÊçÆ DDD ÁêÜËÆ∫Êù•ËØ¥ÔºåÂè™ÊúâÈ¢ÜÂüüÂΩì‰∏≠Êüê‰∏™ÈáçË¶ÅÁöÑËøáÁ®ãÊàñËÄÖËΩ¨Êç¢Êìç‰Ωú‰∏çÊòØÂÆû‰ΩìÊàñÂÄºÂØπË±°ÁöÑËá™ÁÑ∂ËÅåË¥£ÁöÑÊó∂ÂÄôÔºåÂ∞±Â∫îËØ•Ê∑ªÂä†‰∏Ä‰∏™Áã¨Á´ãÁöÑÊúçÂä°Êù•ÊâøËΩΩËøô‰∫õÊìç‰Ωú„ÄÇ</p>
<p>ÈÇ£‰πàÈóÆÈ¢òÊù•‰∫ÜÔºåÂú®Â±ÇÁ∫ßÊû∂ÊûÑÊù•ËØ¥Ôºå<strong>È¢ÜÂüüÂ±ÇÁöÑÊúçÂä°ÂØπË±°</strong>Âíå<strong>Â∫îÁî®Â±ÇÁöÑÊúçÂä°ÂØπË±°</strong>ÊúÄÈöæ‰ª•Âå∫ÂàÜ„ÄÇ‰ª•‰π¶‰∏≠ÁöÑ‰æãÂ≠ê‰∏æ‰æãÔºåÂΩìÂÆ¢Êà∑‰ΩôÈ¢ùÂ∞è‰∫éÊüê‰∏™ÈòàÂÄºÁöÑÊó∂ÂÄôÔºåÂ∞±‰ºöÂêëÂÆ¢Êà∑ÂèëÈÄÅÁîµÂ≠êÈÇÆ‰ª∂„ÄÇÂú®ËøôÈáåÔºåÂ∫îÁî®ÊúçÂä°Ë¥üË¥£ÈÄöÁü•ÁöÑËÆæÁΩÆÔºåËÄåÈ¢ÜÂüüÊúçÂä°ÂàôÈúÄË¶ÅÁ°ÆÂÆöÂÆ¢Êà∑ÊòØÂê¶Êª°Ë∂≥ÈòàÂÄº„ÄÇËøôÈáåÂ∞±Ê∂âÂèäÂà∞‰∫ÜÈì∂Ë°åÈ¢ÜÂüüÁöÑ‰∏öÂä°ÔºåËØ¥ÁôΩ‰∫Ü<strong>È¢ÜÂüüÊúçÂä°ÊòØ‰ºöÊ∂âÂèäÂà∞ÂÖ∑‰Ωì‰∏öÂä°ËßÑÂàô</strong>ÁöÑ„ÄÇ</p>
<p>‰∏ãÈù¢Â∞±ÊòØ‰π¶‰∏≠ÂÖ≥‰∫é‰∏çÂêåÂàÜÂ±ÇÂΩì‰∏≠ÊúçÂä°ÂØπË±°ÁöÑÂàíÂàÜÔºö</p>
<p><img src="/p/abp-vnext-source-code-analysis---5-domain-layer-support-for-ddd-repository-entity-value-object/1563531930351.png"
	width="855"
	height="266"
	srcset="/p/abp-vnext-source-code-analysis---5-domain-layer-support-for-ddd-repository-entity-value-object/1563531930351_hud73969c27970ea39f8ecbb9e4c94388e_106968_480x0_resize_box_3.png 480w, /p/abp-vnext-source-code-analysis---5-domain-layer-support-for-ddd-repository-entity-value-object/1563531930351_hud73969c27970ea39f8ecbb9e4c94388e_106968_1024x0_resize_box_3.png 1024w"
	loading="lazy"
	
		alt="1563531930351"
	
	
		class="gallery-image" 
		data-flex-grow="321"
		data-flex-basis="771px"
	
></p>
<p>‰ªé‰∏äÈù¢ÁöÑÊèèËø∞Êù•ÁúãÔºåÈ¢ÜÂüüÂ±ÇÁöÑÂ∫îÁî®ÊúçÂä°Â∞±ÂØπÂ∫îÁùÄ ABP vNext Ê°ÜÊû∂ÂΩì‰∏≠ÁöÑÂ∫îÁî®ÊúçÂä°„ÄÇÊâÄ‰ª•Êàë‰ª¨ÂèØ‰ª•Â∞ÜÂ∫îÁî®ÊúçÂä°‰Ωú‰∏∫ API Êé•Âè£Êö¥Èú≤ÁªôÂâçÁ´Ø(Ë°®Áé∞Â±Ç)ÔºåÂõ†‰∏∫Â∫îÁî®ÊúçÂä°‰ªÖ‰ªÖÊòØËµ∑‰∏Ä‰∏™ÂçèË∞ÉÈ¢ÜÂüüÂ±ÇÂíåÂü∫Á°ÄËÆæÊñΩÂ±ÇÁöÑ‰ΩúÁî®„ÄÇ(Á±ª‰ººËÑöÊú¨)</p>
<h4 id="251-È¢ÜÂüüÊúçÂä°-domain-service">2.5.1 È¢ÜÂüüÊúçÂä° (Domain Service)</h4>
<p>‰∏äÈù¢Êàë‰ª¨‰∫ÜËß£‰∫Ü‰ªÄ‰πàÊòØÈ¢ÜÂüüÊúçÂä°ÔºåABP vNext ‰∏∫Êàë‰ª¨Êèê‰æõ‰∫ÜÈ¢ÜÂüüÊúçÂä°ÁöÑÂü∫Êú¨ÊäΩË±°ÂÆö‰πâ <code>IDomainService</code> ‰∏é <code>DomainService</code>„ÄÇ</p>
<p>ÂÆÉ‰ª¨ÁöÑÂÜÖÈÉ®ÂÆûÁé∞ÊØîËæÉÁÆÄÂçïÔºåÂè™Ê≥®ÂÖ•‰∫Ü‰∏Ä‰∫õÂ∏∏Áî®ÁöÑÂü∫Á°ÄÁªÑ‰ª∂ÔºåÊàë‰ª¨‰ΩøÁî®ÁöÑÊó∂ÂÄôÁõ¥Êé•ÁªßÊâø <code>DomainService</code> Á±ªÂûãÂç≥ÂèØ„ÄÇ</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="kd">public</span> <span class="kd">abstract</span> <span class="k">class</span> <span class="nc">DomainService</span> <span class="p">:</span> <span class="n">IDomainService</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="kd">public</span> <span class="n">IServiceProvider</span> <span class="n">ServiceProvider</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="kd">protected</span> <span class="k">readonly</span> <span class="kt">object</span> <span class="n">ServiceProviderLock</span> <span class="p">=</span> <span class="k">new</span> <span class="kt">object</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">	<span class="kd">protected</span> <span class="n">TService</span> <span class="n">LazyGetRequiredService</span><span class="p">&lt;</span><span class="n">TService</span><span class="p">&gt;(</span><span class="k">ref</span> <span class="n">TService</span> <span class="n">reference</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="c1">// ÊØîËæÉÁÆÄÂçïÁöÑÂèåÈáçÊ£ÄÊü•ÈîÅÂÆöÊ®°Âºè„ÄÇ</span>
</span></span><span class="line"><span class="cl">		<span class="k">if</span> <span class="p">(</span><span class="n">reference</span> <span class="p">==</span> <span class="kc">null</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="p">{</span>
</span></span><span class="line"><span class="cl">			<span class="k">lock</span> <span class="p">(</span><span class="n">ServiceProviderLock</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">			<span class="p">{</span>
</span></span><span class="line"><span class="cl">				<span class="k">if</span> <span class="p">(</span><span class="n">reference</span> <span class="p">==</span> <span class="kc">null</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">				<span class="p">{</span>
</span></span><span class="line"><span class="cl">					<span class="n">reference</span> <span class="p">=</span> <span class="n">ServiceProvider</span><span class="p">.</span><span class="n">GetRequiredService</span><span class="p">&lt;</span><span class="n">TService</span><span class="p">&gt;();</span>
</span></span><span class="line"><span class="cl">				<span class="p">}</span>
</span></span><span class="line"><span class="cl">			<span class="p">}</span>
</span></span><span class="line"><span class="cl">		<span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">		<span class="k">return</span> <span class="n">reference</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="kd">public</span> <span class="n">IClock</span> <span class="n">Clock</span> <span class="p">=&gt;</span> <span class="n">LazyGetRequiredService</span><span class="p">(</span><span class="k">ref</span> <span class="n">_clock</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">	<span class="kd">private</span> <span class="n">IClock</span> <span class="n">_clock</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="c1">// Guid ÁîüÊàêÂô®„ÄÇ</span>
</span></span><span class="line"><span class="cl">	<span class="kd">public</span> <span class="n">IGuidGenerator</span> <span class="n">GuidGenerator</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="c1">// Êó•ÂøóÂ∑•ÂéÇ„ÄÇ</span>
</span></span><span class="line"><span class="cl">	<span class="kd">public</span> <span class="n">ILoggerFactory</span> <span class="n">LoggerFactory</span> <span class="p">=&gt;</span> <span class="n">LazyGetRequiredService</span><span class="p">(</span><span class="k">ref</span> <span class="n">_loggerFactory</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">	<span class="kd">private</span> <span class="n">ILoggerFactory</span> <span class="n">_loggerFactory</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">	
</span></span><span class="line"><span class="cl">	<span class="c1">// Ëé∑ÂèñÂΩìÂâçÁßüÊà∑„ÄÇ</span>
</span></span><span class="line"><span class="cl">	<span class="kd">public</span> <span class="n">ICurrentTenant</span> <span class="n">CurrentTenant</span> <span class="p">=&gt;</span> <span class="n">LazyGetRequiredService</span><span class="p">(</span><span class="k">ref</span> <span class="n">_currentTenant</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">	<span class="kd">private</span> <span class="n">ICurrentTenant</span> <span class="n">_currentTenant</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="c1">// Êó•ÂøóÁªÑ‰ª∂„ÄÇ</span>
</span></span><span class="line"><span class="cl">	<span class="kd">protected</span> <span class="n">ILogger</span> <span class="n">Logger</span> <span class="p">=&gt;</span> <span class="n">_lazyLogger</span><span class="p">.</span><span class="n">Value</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">	<span class="kd">private</span> <span class="n">Lazy</span><span class="p">&lt;</span><span class="n">ILogger</span><span class="p">&gt;</span> <span class="n">_lazyLogger</span> <span class="p">=&gt;</span> <span class="k">new</span> <span class="n">Lazy</span><span class="p">&lt;</span><span class="n">ILogger</span><span class="p">&gt;(()</span> <span class="p">=&gt;</span> <span class="n">LoggerFactory</span><span class="p">?.</span><span class="n">CreateLogger</span><span class="p">(</span><span class="n">GetType</span><span class="p">().</span><span class="n">FullName</span><span class="p">)</span> <span class="p">??</span> <span class="n">NullLogger</span><span class="p">.</span><span class="n">Instance</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">	
</span></span><span class="line"><span class="cl">	<span class="kd">protected</span> <span class="n">DomainService</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">	<span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="n">GuidGenerator</span> <span class="p">=</span> <span class="n">SimpleGuidGenerator</span><span class="p">.</span><span class="n">Instance</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="252-Â∫îÁî®ÊúçÂä°-application-service">2.5.2 Â∫îÁî®ÊúçÂä° (Application Service)</h4>
<p>Â∫îÁî®ÊúçÂä°ÁöÑÂÜÖÂÆπÊØîËæÉÂ§çÊùÇÁπÅÂ§öÔºå‰ºöÂú®‰∏ã‰∏ÄÁØáÊñáÁ´†„Ää[Abp vNext Ê∫êÁ†ÅÂàÜÊûê] - 6. DDD ÁöÑÂ∫îÁî®Â±ÇÊîØÊåÅ (Â∫îÁî®ÊúçÂä°)„ÄãÈáåÈù¢ËøõË°åËØ¶ÁªÜÊèèËø∞ÔºåËøôÈáåÂ∞±ÊöÇ‰∏çËøõË°åËØ¥Êòé„ÄÇ</p>
<h3 id="26-‰ªìÂÇ®-repository">2.6 ‰ªìÂÇ® (Repository)</h3>
<p>‰ªìÂÇ®Ëøô‰∏™‰∏úË•øÂ§ßÂÆ∂Â∫îËØ•ÈÉΩ‰∏ç‰ºöÈôåÁîüÔºåÊØïÁ´ü‰ªìÂÇ®Ê®°ÂºèËøôÁé©ÊÑèÂÑøÁé©‰∫ÜËøô‰πà‰πÖ‰∫ÜÔºåÊàëÁ≠â Crud Á†ÅÂÜúÂøÖÂ§áÂà©Âô®„ÄÇÈÇ£‰πàËøôÈáåÁöÑ‰ªìÂÇ®Âíå DDD Ê¶ÇÂøµÈáåÈù¢ÁöÑ‰ªìÂÇ®Êúâ‰ªÄ‰πàÂºÇÂêåÂë¢Ôºü</p>
<h4 id="261-ËÉåÊôØ">2.6.1 ËÉåÊôØ</h4>
<p>Êàë‰ª¨È¶ñÂÖàË¶ÅÊòéÁ°Æ DDD ÈáåÈù¢‰∏∫‰ªÄ‰πà‰ºöÂºïÂÖ•‰ªìÂÇ®Ëøô‰∏™Ê¶ÇÂøµÔºåËôΩÁÑ∂Êàë‰ª¨ÂèØ‰ª•ÈÄöËøáÈÅçÂéÜÂØπË±°ÁöÑÂÖ≥ËÅîÊù•Ëé∑ÂèñÁõ∏ÂÖ≥ÁöÑÂØπË±°Ôºå‰ΩÜÊÄªÊòØË¶ÅÊúâ‰∏Ä‰∏™Ëµ∑ÁÇπ„ÄÇ‰º†ÁªüÂºÄÂèë‰∫∫Âëò‰ºöÊûÑÈÄ†‰∏Ä‰∏™ SQL Êü•ËØ¢ÔºåÂ∞ÜÂÖ∂‰º†ÈÄíÁªôÂü∫Á°ÄËÆæÊñΩÂ±ÇÁöÑÊüê‰∏™Êü•ËØ¢ÊúçÂä°ÔºåÁÑ∂ÂêéÊ†πÊçÆÂæóÂà∞ÁöÑË°®/Ë°åÊï∞ÊçÆÈáçÂª∫ÂÆû‰ΩìÂØπË±°ÔºåORM Ê°ÜÊû∂Â∞±ÊòØËøôÊ†∑ËØûÁîüÁöÑ„ÄÇ</p>
<p>ÈÄöËøá‰∏äËø∞ÊâãÊÆµÔºåÂºÄÂèë‰∫∫ÂëòÂ∞±‰ºöËØïÂõæÁªïÂºÄÈ¢ÜÂüüÊ®°ÂûãÔºåËΩ¨ËÄåÁõ¥Êé•Ëé∑ÂèñÊàñËÄÖÊìç‰ΩúÂÆÉ‰ª¨ÊâÄÈúÄË¶ÅÁöÑÊï∞ÊçÆÔºåËøôÊ†∑Â∞±‰ºöÂØºËá¥Ë∂äÊù•Ë∂äÂ§öÁöÑ<strong>È¢ÜÂüüËßÑÂàôË¢´ÂµåÂÖ•Âà∞Êü•ËØ¢‰ª£Á†Å</strong>ÂΩì‰∏≠„ÄÇÊõ¥‰∏∫‰∏•ÈáçÁöÑÊòØÔºåÂºÄÂèë‰∫∫ÂëòÂ∞Ü‰ºöÁõ¥Êé•Êü•ËØ¢Êï∞ÊçÆÂ∫ì‰ªé‰∏≠ÊèêÂèñÂÆÉ‰ª¨ÈúÄË¶ÅÁöÑÊï∞ÊçÆÔºåËÄå‰∏çÊòØÈÄöËøáËÅöÂêàÁöÑÊ†πÊù•ÂæóÂà∞Ëøô‰∫õÂØπË±°„ÄÇËøôÊ†∑Â∞±‰ºöÂØºËá¥È¢ÜÂüüÈÄªËæë(‰∏öÂä°ËßÑÂàô)ËøõÂÖ•Êü•ËØ¢‰ª£Á†ÅÂΩì‰∏≠ÔºåËÄåÊàë‰ª¨ÁöÑ<strong>ÂÆû‰ΩìÂíåÂÄºÂØπË±°ÊúÄÁªàÂè™ÊòØÂ≠òÊîæÊï∞ÊçÆÁöÑÂÆπÂô®</strong>ËÄåÂ∑≤„ÄÇÊúÄÂêéÊàë‰ª¨ÁöÑ<strong>È¢ÜÂüüÂ±ÇÂè™ÊòØ‰∏Ä‰∏™Á©∫Â£≥</strong>ÔºåÊúÄÂêé‰ΩøÂæóÊ®°ÂûãÊó†ÂÖ≥Á¥ßË¶Å„ÄÇ</p>
<p>ÊâÄ‰ª•Êàë‰ª¨ÈúÄË¶Å‰∏ÄÁßçÁªÑ‰ª∂ÔºåËÉΩÂ§üÈÄöËøáÊ†πÈÅçÂéÜÊü•ÊâæÂØπË±°ÔºåÂπ∂‰∏îÁ¶ÅÊ≠¢ÂÖ∂‰ªñÊñπÊ≥ïÂØπËÅöÂêàÂÜÖÈÉ®ÁöÑ‰ªª‰ΩïÂØπË±°ËøõË°åËÆøÈóÆ„ÄÇËÄåÊåÅ‰πÖÂåñÁöÑÂÄºÂØπË±°ÂèØ‰ª•ÈÄöËøáÈÅçÂéÜÊüê‰∏™ÂÆû‰ΩìÊâæÂà∞ÔºåÊâÄ‰ª•ÂÄºÂØπË±°ÊòØ‰∏çÈúÄË¶ÅÂÖ®Â±ÄÊêúÁ¥¢ÁöÑ„ÄÇ</p>
<p>ËÄå‰ªìÂÇ®Â∞±ËÉΩÂ§üËß£ÂÜ≥‰∏äËø∞ÈóÆÈ¢òÔºå‰ªìÂÇ®ÂèØ‰ª•Â∞ÜÊüêÁßçÁ±ªÂûãÁöÑÊâÄÊúâÂØπË±°Ë°®Á§∫‰∏∫‰∏Ä‰∏™Ê¶ÇÂøµ‰∏äÁöÑÈõÜÂêà„ÄÇÂºÄÂèë‰∫∫ÂëòÂè™ÈúÄË¶ÅË∞ÉÁî®‰ªìÂÇ®ÂØπÂ§ñÊèê‰æõÁöÑÁÆÄÂçïÊé•Âè£ÔºåÂ∞±ÂèØ‰ª•ÈáçÂª∫ÂÆû‰ΩìÔºåËÄåÂÖ∑‰ΩìÁöÑÊü•ËØ¢„ÄÅÊèíÂÖ•Á≠âÊäÄÊúØÁªÜËäÇÂÆåÂÖ®Ë¢´‰ªìÂÇ®Â∞ÅË£Ö„ÄÇËøôÊ†∑ÂºÄÂèë‰∫∫ÂëòÂè™ÈúÄË¶ÅÂÖ≥Ê≥®È¢ÜÂüüÊ®°Âûã„ÄÇ</p>
<p>‰ªìÂÇ®ÁöÑ‰ºòÁÇπÊúâ‰ª•‰∏ãÂá†ÁÇπÔºö</p>
<ul>
<li>Êèê‰æõÁÆÄÂçïÁöÑÊ®°ÂûãÔºåÂèØÁî®Êù•Ëé∑ÂèñÊåÅ‰πÖÂåñÂØπË±°Âπ∂ÁÆ°ÁêÜÂÆÉ‰ª¨ÁöÑÁîüÂëΩÂë®Êúü„ÄÇ</li>
<li>Â∞ÜÂ∫îÁî®Á®ãÂ∫è‰∏éÊåÅ‰πÖÂåñÊäÄÊúØËß£ËÄ¶„ÄÇ</li>
<li>Âà©‰∫éËøõË°åÂçïÂÖÉÊµãËØïÔºå‰æãÂ¶Ç‰ΩøÁî®ÂÜÖÂ≠òÊï∞ÊçÆÂ∫ìÊõøÊç¢ÊéâÂÆûÈôÖËÆøÈóÆÁöÑÊï∞ÊçÆÂ∫ì„ÄÇ</li>
</ul>
<h4 id="262-ÂÆûÁé∞">2.6.2 ÂÆûÁé∞</h4>
<p>ABP vNext ‰∏∫Êàë‰ª¨Êèê‰æõ‰∫ÜÂá†ÁßçÁ±ªÂûãÁöÑ‰ªìÂÇ® <code>IRepository</code>„ÄÅ<code>IBasicRepository</code>„ÄÅ<code>IReadOnlyRepository</code> Á≠âÔºåÂÖ∂ÂÆû‰ªéÂêçÂ≠óÂ∞±ÂèØ‰ª•ÁúãÂá∫Êù•ÂÆÉ‰ª¨ÂÖ∑‰ΩìÁöÑËÅåË¥£„ÄÇÈ¶ñÂÖàÊàë‰ª¨Êù•Áúã <code>IReadonly&lt;XXX&gt;</code> ‰ªìÂÇ®ÔºåÂæàÊòéÊòæËøôÁßçÁ±ªÂûãÁöÑ‰ªìÂÇ®Âè™Êèê‰æõ‰∫ÜÊü•ËØ¢ÊñπÊ≥ïÔºåÂõ†‰∏∫ÂÆÉ‰ª¨ÊòØÂè™ËØªÁöÑ„ÄÇ</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="kd">public</span> <span class="k">interface</span> <span class="nc">IReadOnlyBasicRepository</span><span class="p">&lt;</span><span class="n">TEntity</span><span class="p">&gt;</span> <span class="p">:</span> <span class="n">IRepository</span>
</span></span><span class="line"><span class="cl">	<span class="k">where</span> <span class="n">TEntity</span> <span class="p">:</span> <span class="n">class</span><span class="p">,</span> <span class="n">IEntity</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="c1">// Ëé∑ÂæóÊâÄÊúâÂÆû‰ΩìÂØπË±°„ÄÇ</span>
</span></span><span class="line"><span class="cl">	<span class="n">List</span><span class="p">&lt;</span><span class="n">TEntity</span><span class="p">&gt;</span> <span class="n">GetList</span><span class="p">(</span><span class="kt">bool</span> <span class="n">includeDetails</span> <span class="p">=</span> <span class="kc">false</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="c1">// Ëé∑ÂæóÊâÄÊúâÂÆû‰ΩìÂØπË±°„ÄÇ</span>
</span></span><span class="line"><span class="cl">	<span class="n">Task</span><span class="p">&lt;</span><span class="n">List</span><span class="p">&lt;</span><span class="n">TEntity</span><span class="p">&gt;&gt;</span> <span class="n">GetListAsync</span><span class="p">(</span><span class="kt">bool</span> <span class="n">includeDetails</span> <span class="p">=</span> <span class="kc">false</span><span class="p">,</span> <span class="n">CancellationToken</span> <span class="n">cancellationToken</span> <span class="p">=</span> <span class="k">default</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="c1">// Ëé∑ÂæóÂÆû‰ΩìÂØπË±°ÁöÑÊï∞ÊçÆÈáè„ÄÇ</span>
</span></span><span class="line"><span class="cl">	<span class="kt">long</span> <span class="n">GetCount</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="c1">// Ëé∑ÂæóÂÆû‰ΩìÂØπË±°ÁöÑÊï∞ÊçÆÈáè„ÄÇ</span>
</span></span><span class="line"><span class="cl">	<span class="n">Task</span><span class="p">&lt;</span><span class="kt">long</span><span class="p">&gt;</span> <span class="n">GetCountAsync</span><span class="p">(</span><span class="n">CancellationToken</span> <span class="n">cancellationToken</span> <span class="p">=</span> <span class="k">default</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="k">interface</span> <span class="nc">IReadOnlyBasicRepository</span><span class="p">&lt;</span><span class="n">TEntity</span><span class="p">,</span> <span class="n">TKey</span><span class="p">&gt;</span> <span class="p">:</span> <span class="n">IReadOnlyBasicRepository</span><span class="p">&lt;</span><span class="n">TEntity</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="k">where</span> <span class="n">TEntity</span> <span class="p">:</span> <span class="n">class</span><span class="p">,</span> <span class="n">IEntity</span><span class="p">&lt;</span><span class="n">TKey</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="c1">// Ê†πÊçÆÂÆû‰ΩìÁöÑÂîØ‰∏ÄÊ†áËØÜÈáçÂª∫ÂØπË±°ÔºåÊ≤°ÊúâÊâæÂà∞ÂØπË±°Êó∂ÊäõÂá∫ EntityNotFoundException ÂºÇÂ∏∏„ÄÇ</span>
</span></span><span class="line"><span class="cl"><span class="na">	[NotNull]</span>
</span></span><span class="line"><span class="cl">	<span class="n">TEntity</span> <span class="n">Get</span><span class="p">(</span><span class="n">TKey</span> <span class="n">id</span><span class="p">,</span> <span class="kt">bool</span> <span class="n">includeDetails</span> <span class="p">=</span> <span class="kc">true</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="na">
</span></span></span><span class="line"><span class="cl"><span class="na">	[NotNull]</span>
</span></span><span class="line"><span class="cl">	<span class="n">Task</span><span class="p">&lt;</span><span class="n">TEntity</span><span class="p">&gt;</span> <span class="n">GetAsync</span><span class="p">(</span><span class="n">TKey</span> <span class="n">id</span><span class="p">,</span> <span class="kt">bool</span> <span class="n">includeDetails</span> <span class="p">=</span> <span class="kc">true</span><span class="p">,</span> <span class="n">CancellationToken</span> <span class="n">cancellationToken</span> <span class="p">=</span> <span class="k">default</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="c1">//  Ê†πÊçÆÂÆû‰ΩìÁöÑÂîØ‰∏ÄÊ†áËØÜÈáçÂª∫ÂØπË±°ÔºåÊ≤°ÊúâÊâæÂà∞ÂØπË±°Êó∂ËøîÂõû null„ÄÇ</span>
</span></span><span class="line"><span class="cl"><span class="na">	[CanBeNull]</span>
</span></span><span class="line"><span class="cl">	<span class="n">TEntity</span> <span class="n">Find</span><span class="p">(</span><span class="n">TKey</span> <span class="n">id</span><span class="p">,</span> <span class="kt">bool</span> <span class="n">includeDetails</span> <span class="p">=</span> <span class="kc">true</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="n">Task</span><span class="p">&lt;</span><span class="n">TEntity</span><span class="p">&gt;</span> <span class="n">FindAsync</span><span class="p">(</span><span class="n">TKey</span> <span class="n">id</span><span class="p">,</span> <span class="kt">bool</span> <span class="n">includeDetails</span> <span class="p">=</span> <span class="kc">true</span><span class="p">,</span> <span class="n">CancellationToken</span> <span class="n">cancellationToken</span> <span class="p">=</span> <span class="k">default</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Èô§‰∫ÜÂè™ËØª‰ªìÂÇ®‰ª•Â§ñÔºå ËøòÊã•ÊúâÊîØÊåÅÊèíÂÖ•„ÄÅÊõ¥Êñ∞„ÄÅÂà†Èô§ÁöÑ‰ªìÂÇ®ÂÆö‰πâÔºåÂÆÉ‰ª¨ÈÉΩÂ≠òÊîæÂú® <code>IBasicRepository</code> ÂΩì‰∏≠„ÄÇÂú® <strong>Volo.Abp.Ddd.Domain</strong> Ê®°ÂùóÈáåÈù¢‰∏∫Êàë‰ª¨Êèê‰æõ‰∫Ü‰ªìÂÇ®Á±ªÂûãÁöÑÊäΩË±°ÂÆûÁé∞ <code>RepositoryBase</code> „ÄÇ</p>
<p>Ëøô‰∏™ÊäΩË±°Âü∫Á±ªÈáåÈù¢Êàë‰ª¨ÈúÄË¶ÅÊ≥®ÊÑèÂá†‰∏™Âü∫Á°ÄÁªÑ‰ª∂Ôºö</p>
<ol>
<li><code>BasicRepositoryBase</code> Âü∫Á±ªÈáåÈù¢Ê≥®ÂÖ•ÁöÑ <code>ICancellationTokenProvider</code> ÂØπË±°„ÄÇ</li>
<li><code>RepositoryBase</code> Âü∫Á±ªÊ≥®ÂÖ•ÁöÑ <code>IDataFilter</code> ÂØπË±°„ÄÇ</li>
<li><code>RepositoryBase</code> Âü∫Á±ªÊ≥®ÂÖ•ÁöÑ <code>ICurrentTenant</code> ÂØπË±°„ÄÇ</li>
</ol>
<p>‰ª•‰∏ä‰∏â‰∏™ÂØπË±°ÈÉΩ‰∏çÊòØÊàë‰ª¨ËÆ≤ËøáÁöÑÁªÑ‰ª∂ÔºåËøôÈáåÊàëÂÖàÂ§ßÊ¶ÇËØ¥‰∏Ä‰∏ãÂÆÉ‰ª¨ÁöÑ‰ΩúÁî®„ÄÇ</p>
<h5 id="2621-icancellationtokenprovider">2.6.2.1 ICancellationTokenProvider</h5>
<p><code>CancellationToken</code> ÂæàÂ§ö‰∫∫ÈÉΩÁî®ËøáÔºåÂÆÉÁöÑ‰ΩúÁî®ÊòØÁî®Êù•ÂèñÊ∂àÊüê‰∏™ËÄóÊó∂ÁöÑÂºÇÊ≠•‰ªªÂä°„ÄÇ<code>ICancellationTokenProvider</code> È°æÂêçÊÄù‰πâÂ∞±ÊòØ <code>CancellationToken</code> ÁöÑÊèê‰æõËÄÖÔºåÈÇ£‰πàË∞ÅÊèê‰æõÂë¢Ôºü</p>
<p><img src="/p/abp-vnext-source-code-analysis---5-domain-layer-support-for-ddd-repository-entity-value-object/1563536451020.png"
	width="1106"
	height="182"
	srcset="/p/abp-vnext-source-code-analysis---5-domain-layer-support-for-ddd-repository-entity-value-object/1563536451020_hu503cb33ac8f6252a82331791d87920ef_29455_480x0_resize_box_3.png 480w, /p/abp-vnext-source-code-analysis---5-domain-layer-support-for-ddd-repository-entity-value-object/1563536451020_hu503cb33ac8f6252a82331791d87920ef_29455_1024x0_resize_box_3.png 1024w"
	loading="lazy"
	
		alt="1563536451020"
	
	
		class="gallery-image" 
		data-flex-grow="607"
		data-flex-basis="1458px"
	
></p>
<p>ÂèØ‰ª•ÁúãÂà∞ÂÆÉÊúâ‰∏§‰∏™ÂÆö‰πâÔºå‰∏Ä‰∏™ÊòØ‰ªé Http ‰∏ä‰∏ãÊñáËé∑ÂèñÔºå‰∏Ä‰∏™ÊòØÈªòËÆ§ÂÆûÁé∞ÔºåÈ¶ñÂÖàÊù•Áúã‰∏ÄËà¨ÈÉΩÂæàÁÆÄÂçïÁöÑÈªòËÆ§ÂÆûÁé∞„ÄÇ</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="kd">public</span> <span class="k">class</span> <span class="nc">NullCancellationTokenProvider</span> <span class="p">:</span> <span class="n">ICancellationTokenProvider</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="kd">public</span> <span class="kd">static</span> <span class="n">NullCancellationTokenProvider</span> <span class="n">Instance</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="p">}</span> <span class="p">=</span> <span class="k">new</span> <span class="n">NullCancellationTokenProvider</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="kd">public</span> <span class="n">CancellationToken</span> <span class="n">Token</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="p">}</span> <span class="p">=</span> <span class="n">CancellationToken</span><span class="p">.</span><span class="n">None</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="kd">private</span> <span class="n">NullCancellationTokenProvider</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">	<span class="p">{</span>
</span></span><span class="line"><span class="cl">		
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>emmmÔºåÁ°ÆÂÆûÂæàÁÆÄÂçïÔºå‰ªñÁõ¥Êé•ËøîÂõûÁöÑÂ∞±ÊòØ <code>CancellationToken.None</code> Á©∫ÂÄº„ÄÇÈÇ£Êàë‰ª¨Áé∞Âú®ÂéªÁúã‰∏Ä‰∏ã Http ‰∏ä‰∏ãÊñáÁöÑÂÆûÁé∞ÂêßÔºö</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="na">[Dependency(ReplaceServices = true)]</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="k">class</span> <span class="nc">HttpContextCancellationTokenProvider</span> <span class="p">:</span> <span class="n">ICancellationTokenProvider</span><span class="p">,</span> <span class="n">ITransientDependency</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="kd">public</span> <span class="n">CancellationToken</span> <span class="n">Token</span> <span class="p">=&gt;</span> <span class="n">_httpContextAccessor</span><span class="p">.</span><span class="n">HttpContext</span><span class="p">?.</span><span class="n">RequestAborted</span> <span class="p">??</span> <span class="n">CancellationToken</span><span class="p">.</span><span class="n">None</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="kd">private</span> <span class="k">readonly</span> <span class="n">IHttpContextAccessor</span> <span class="n">_httpContextAccessor</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="kd">public</span> <span class="n">HttpContextCancellationTokenProvider</span><span class="p">(</span><span class="n">IHttpContextAccessor</span> <span class="n">httpContextAccessor</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="n">_httpContextAccessor</span> <span class="p">=</span> <span class="n">httpContextAccessor</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>‰ªé‰∏äÈù¢ÂèØ‰ª•ÁúãÂà∞ÔºåËøô‰∏™Êèê‰æõËÄÖÊòØ‰ªé <code>HttpContext</code> ÈáåÈù¢ÊãøÁöÑ <code>RequestAborted</code> ÔºåËøô‰∏™Â±ûÊÄßÊòØÂì™ÂÑøÊù•ÁöÑÂë¢ÔºüÁúãÂÆÉÁöÑËØ¥ÊòéÊòØÔºö</p>
<blockquote>
<p>Notifies when the connection underlying this request is aborted and thus request operations should be cancelled.</p>
</blockquote>
<p>SogaÔºåËøô‰∏™ÊÑèÊÄùÂ∞±ÊòØÂ¶ÇÊûú‰∏Ä‰∏™ Http ËØ∑Ê±ÇË¢´‰∏≠Ê≠¢ÁöÑÊó∂ÂÄôÔºåÂ∞±‰ºöËß¶ÂèëÁöÑÂèñÊ∂àÊ†áËÆ∞Âì¶„ÄÇ</p>
<p>ÈÇ£‰πàÂÆÉÊîæÂú®‰ªìÂÇ®Âü∫Á±ªÈáåÈù¢Âπ≤‰ªÄ‰πàÂë¢ÔºüËÇØÂÆöÊòØË¶ÅÂèñÊ∂àÊéâËÄóÊó∂ÁöÑÊü•ËØ¢/ÊåÅ‰πÖÂåñÂºÇÊ≠•‰ªªÂä°ÂïäÔºå‰∏çÁÑ∂‰∏ÄÁõ¥Á≠â‰πà&hellip;</p>
<h5 id="2622-idatafilter">2.6.2.2 IDataFilter</h5>
<p>Ëøô‰∏™Êé•Âè£ÂêçÂ≠óË∑ü‰πãÂâç‰∏ÄÊ†∑ÔºåÂæàÈÄö‰øóÔºåÊï∞ÊçÆËøáÊª§Âô®ÔºåÁî®Êù•ËøáÊª§Êü•ËØ¢Êï∞ÊçÆÁî®ÁöÑ„ÄÇ‰ΩøÁî®Ëøá ABP Ê°ÜÊû∂ÁöÑÂêåÂ≠¶ËÇØÂÆöÁü•ÈÅìËøôÁé©ÊÑèÂÑøÔºå‰∏ªË¶ÅÊòØÁî®Êù•ËøáÊª§Â§öÁßüÊà∑ÂíåËΩØÂà†Èô§Ê†áËÆ∞ÁöÑ„ÄÇ</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="kd">protected</span> <span class="k">virtual</span> <span class="n">TQueryable</span> <span class="n">ApplyDataFilters</span><span class="p">&lt;</span><span class="n">TQueryable</span><span class="p">&gt;(</span><span class="n">TQueryable</span> <span class="n">query</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="k">where</span> <span class="n">TQueryable</span> <span class="p">:</span> <span class="n">IQueryable</span><span class="p">&lt;</span><span class="n">TEntity</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="c1">// Â¶ÇÊûúÂÆû‰ΩìÂÆûÁé∞‰∫ÜËΩØÂà†Èô§Ê†áËÆ∞ÔºåËøáÊª§ÊéâÂ∑≤Âà†Èô§ÁöÑÊï∞ÊçÆ„ÄÇ</span>
</span></span><span class="line"><span class="cl">	<span class="k">if</span> <span class="p">(</span><span class="k">typeof</span><span class="p">(</span><span class="n">ISoftDelete</span><span class="p">).</span><span class="n">IsAssignableFrom</span><span class="p">(</span><span class="k">typeof</span><span class="p">(</span><span class="n">TEntity</span><span class="p">)))</span>
</span></span><span class="line"><span class="cl">	<span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="n">query</span> <span class="p">=</span> <span class="p">(</span><span class="n">TQueryable</span><span class="p">)</span><span class="n">query</span><span class="p">.</span><span class="n">WhereIf</span><span class="p">(</span><span class="n">DataFilter</span><span class="p">.</span><span class="n">IsEnabled</span><span class="p">&lt;</span><span class="n">ISoftDelete</span><span class="p">&gt;(),</span> <span class="n">e</span> <span class="p">=&gt;</span> <span class="p">((</span><span class="n">ISoftDelete</span><span class="p">)</span><span class="n">e</span><span class="p">).</span><span class="n">IsDeleted</span> <span class="p">==</span> <span class="kc">false</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="c1">// Â¶ÇÊûúÂÆû‰ΩìÂÆûÁé∞‰∫ÜÂ§öÁßüÊà∑Ê†áËÆ∞ÔºåÊ†πÊçÆÁßüÊà∑ Id ËøáÊª§Êï∞ÊçÆ„ÄÇ</span>
</span></span><span class="line"><span class="cl">	<span class="k">if</span> <span class="p">(</span><span class="k">typeof</span><span class="p">(</span><span class="n">IMultiTenant</span><span class="p">).</span><span class="n">IsAssignableFrom</span><span class="p">(</span><span class="k">typeof</span><span class="p">(</span><span class="n">TEntity</span><span class="p">)))</span>
</span></span><span class="line"><span class="cl">	<span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="kt">var</span> <span class="n">tenantId</span> <span class="p">=</span> <span class="n">CurrentTenant</span><span class="p">.</span><span class="n">Id</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">		<span class="n">query</span> <span class="p">=</span> <span class="p">(</span><span class="n">TQueryable</span><span class="p">)</span><span class="n">query</span><span class="p">.</span><span class="n">WhereIf</span><span class="p">(</span><span class="n">DataFilter</span><span class="p">.</span><span class="n">IsEnabled</span><span class="p">&lt;</span><span class="n">IMultiTenant</span><span class="p">&gt;(),</span> <span class="n">e</span> <span class="p">=&gt;</span> <span class="p">((</span><span class="n">IMultiTenant</span><span class="p">)</span><span class="n">e</span><span class="p">).</span><span class="n">TenantId</span> <span class="p">==</span> <span class="n">tenantId</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="n">query</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Êõ¥Âä†ËØ¶ÁªÜÁöÑÊàë‰ª¨ÊîæÂú®ÂêéÈù¢ËØ¥Êòé&hellip;ËøôÈáå‰Ω†Âè™ÈúÄË¶ÅÁü•ÈÅìÂÆÉÊòØÁî®Êù•ËøáÊª§Êï∞ÊçÆÁöÑÂ∞±Ë°å‰∫Ü„ÄÇ</p>
<h5 id="2623-icurrenttenant">2.6.2.3 ICurrentTenant</h5>
<p>Ëã±ËØ≠Âú®Â≠¶‰π†ÁºñÁ®ãÁöÑÊó∂ÂÄôËøòÊòØÂæàÈáçË¶ÅÁöÑÔºåËøô‰∏™Êé•Âè£ÁöÑÊÑèÊÄùÊòØÂΩìÂâçÁßüÊà∑ÔºåËÇØÂÆöËøôÁé©ÊÑèÂÑøÂ∞±ÊòØÊèê‰æõÂΩìÂâçÁôªÂΩïÁî®Êà∑ÁöÑÁßüÊà∑ Id ÂíØÔºåÂú®‰∏äÈù¢ÁöÑ‰æãÂ≠êÈáåÈù¢Êúâ‰ΩøÁî®Âà∞„ÄÇ</p>
<h4 id="263-‰ªìÂÇ®ÁöÑÊ≥®ÂÜå">2.6.3 ‰ªìÂÇ®ÁöÑÊ≥®ÂÜå</h4>
<p>‰∏çËÆ∫ÊòØ ABP vNext Êèê‰æõÁöÑÈªòËÆ§‰ªìÂÇ®‰πüÂ•ΩÔºåËøòÊòØËØ¥Êàë‰ª¨Ëá™Â∑±ÂÆö‰πâÁöÑ‰ªìÂÇ®‰πüÂ•ΩÔºåÈÉΩÈúÄË¶ÅÊ≥®ÂÖ•Âà∞ IoC ÂÆπÂô®ÂΩì‰∏≠„ÄÇABP vNext ‰∏∫Êàë‰ª¨Êèê‰æõ‰∫Ü‰∏Ä‰∏™‰ªìÂÇ®Ê≥®ÂÜåÂü∫Á±ª <code>RepositoryRegisterarBase&lt;TOptions&gt;</code> ÔºåÊü•ÁúãËøô‰∏™Âü∫Á±ªÁöÑÂÆûÁé∞Â∞±‰ºöÂèëÁé∞‰ªìÂÇ®ÁöÑÂÖ∑‰ΩìÂÆûÁé∞Ê®°ÂùóÈÉΩÂÆûÁé∞‰∫ÜËøô‰∏™Âü∫Á±ª„ÄÇ</p>
<p><img src="/p/abp-vnext-source-code-analysis---5-domain-layer-support-for-ddd-repository-entity-value-object/1563534972313.png"
	width="1645"
	height="240"
	srcset="/p/abp-vnext-source-code-analysis---5-domain-layer-support-for-ddd-repository-entity-value-object/1563534972313_hu4c1ba348e401682fb939e43455b1a63d_52988_480x0_resize_box_3.png 480w, /p/abp-vnext-source-code-analysis---5-domain-layer-support-for-ddd-repository-entity-value-object/1563534972313_hu4c1ba348e401682fb939e43455b1a63d_52988_1024x0_resize_box_3.png 1024w"
	loading="lazy"
	
		alt="1563534972313"
	
	
		class="gallery-image" 
		data-flex-grow="685"
		data-flex-basis="1645px"
	
></p>
<p>ËøôÊòØÂõ†‰∏∫‰ªìÂÇ®ËÇØÂÆö‰ºöÊúâÂ§öÁßçÂÆûÁé∞ÁöÑÔºå‰æãÂ¶Ç EF Core ÁöÑ‰ªìÂÇ®ÂÆûÁé∞ËÇØÂÆöÊúâËá™Â∑±ÁöÑ‰∏ÄÂ•óÊ≥®ÂÜåÊú∫Âà∂ÔºåÊâÄ‰ª•ËøôÈáå‰ªÖÊèê‰æõ‰∫Ü‰∏Ä‰∏™ÊäΩË±°Âü∫Á±ªÁªôÂºÄÂèë‰∫∫Âëò„ÄÇ</p>
<p>Âú®Âü∫Á±ªÈáåÈù¢ÔºåABP vNext È¶ñÂÖà‰ºöÊ≥®ÂÜåËá™ÂÆö‰πâÁöÑ‰ªìÂÇ®Á±ªÂûãÔºåÂõ†‰∏∫‰ªé‰ªìÂÇ®ÁöÑ DDD ÂÆö‰πâÊù•ÁúãÔºåÊàë‰ª¨Êúâ‰∫õ‰∏öÂä°ÂèØËÉΩ‰ºöÈúÄË¶Å‰∏Ä‰∫õÁâπÊÆäÁöÑ‰ªìÂÇ®Êé•Âè£ÔºåËøô‰∏™Êó∂ÂÄôÂ∞±ÈúÄË¶ÅËá™ÂÆö‰πâ‰ªìÂÇ®‰∫Ü„ÄÇ</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="kd">public</span> <span class="k">virtual</span> <span class="k">void</span> <span class="n">AddRepositories</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// ÈÅçÂéÜËá™ÂÆö‰πâ‰ªìÂÇ®„ÄÇ</span>
</span></span><span class="line"><span class="cl">	<span class="k">foreach</span> <span class="p">(</span><span class="kt">var</span> <span class="n">customRepository</span> <span class="k">in</span> <span class="n">Options</span><span class="p">.</span><span class="n">CustomRepositories</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// Ë∞ÉÁî®Ê≥®ÂÜåÊñπÊ≥ïÔºåÊ≥®ÂÜåËøô‰∫õ‰ªìÂÇ®„ÄÇ</span>
</span></span><span class="line"><span class="cl">		<span class="n">Options</span><span class="p">.</span><span class="n">Services</span><span class="p">.</span><span class="n">AddDefaultRepository</span><span class="p">(</span><span class="n">customRepository</span><span class="p">.</span><span class="n">Key</span><span class="p">,</span> <span class="n">customRepository</span><span class="p">.</span><span class="n">Value</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// ÊòØÂê¶Ê≥®ÂÜå ABP vNext ÁîüÊàêÁöÑÈªòËÆ§‰ªìÂÇ®„ÄÇ</span>
</span></span><span class="line"><span class="cl">	<span class="k">if</span> <span class="p">(</span><span class="n">Options</span><span class="p">.</span><span class="n">RegisterDefaultRepositories</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="n">RegisterDefaultRepositories</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>CustomRepositories ÈáåÈù¢ÁöÑ‰ªìÂÇ®ÊòØÈÄöËøáÂü∫Á±ª <code>CommonDbContextRegistrationOptions</code> ÊâÄÂÆö‰πâÁöÑ <code>AddRepository()</code> ÊñπÊ≥ïËøõË°åÊ∑ªÂä†ÁöÑ„ÄÇ‰æãÂ¶ÇÂçïÂÖÉÊµãËØïÈáåÈù¢Â∞±Êúâ‰ΩøÁî®ËåÉ‰æãÔºö</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="kd">public</span> <span class="kd">override</span> <span class="k">void</span> <span class="n">ConfigureServices</span><span class="p">(</span><span class="n">ServiceConfigurationContext</span> <span class="n">context</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="kt">var</span> <span class="n">connStr</span> <span class="p">=</span> <span class="n">Guid</span><span class="p">.</span><span class="n">NewGuid</span><span class="p">().</span><span class="n">ToString</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="n">Configure</span><span class="p">&lt;</span><span class="n">DbConnectionOptions</span><span class="p">&gt;(</span><span class="n">options</span> <span class="p">=&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="n">options</span><span class="p">.</span><span class="n">ConnectionStrings</span><span class="p">.</span><span class="n">Default</span> <span class="p">=</span> <span class="n">connStr</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">	<span class="p">});</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="c1">// Ê∑ªÂä†Ëá™ÂÆö‰πâ‰ªìÂÇ®„ÄÇ</span>
</span></span><span class="line"><span class="cl">	<span class="n">context</span><span class="p">.</span><span class="n">Services</span><span class="p">.</span><span class="n">AddMemoryDbContext</span><span class="p">&lt;</span><span class="n">TestAppMemoryDbContext</span><span class="p">&gt;(</span><span class="n">options</span> <span class="p">=&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="n">options</span><span class="p">.</span><span class="n">AddDefaultRepositories</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">		<span class="n">options</span><span class="p">.</span><span class="n">AddRepository</span><span class="p">&lt;</span><span class="n">City</span><span class="p">,</span> <span class="n">CityRepository</span><span class="p">&gt;();</span>
</span></span><span class="line"><span class="cl">	<span class="p">});</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Êé•ÁùÄÊàë‰ª¨ÁúãËá™ÂÆö‰πâ‰ªìÂÇ®ÊòØÂ¶Ç‰ΩïÊ≥®ÂÜåÂà∞ IoC ÂÆπÂô®ÈáåÈù¢ÁöÑÂë¢ÔºüËøôÈáåË∞ÉÁî®ÁöÑ <code>AddDefaultRepository()</code> ÊñπÊ≥ïÂ∞±ÊòØÂú® Microsoft Êñá‰ª∂Â§πÈáåÈù¢ÂÆö‰πâÁöÑÊ≥®ÂÜåÊâ©Â±ïÊñπÊ≥ï„ÄÇ</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span><span class="lnt">64
</span><span class="lnt">65
</span><span class="lnt">66
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="kd">public</span> <span class="kd">static</span> <span class="n">IServiceCollection</span> <span class="n">AddDefaultRepository</span><span class="p">(</span><span class="k">this</span> <span class="n">IServiceCollection</span> <span class="n">services</span><span class="p">,</span> <span class="n">Type</span> <span class="n">entityType</span><span class="p">,</span> <span class="n">Type</span> <span class="n">repositoryImplementationType</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="c1">// Ê≥®ÂÜåÂ§çÂêà‰∏ªÈîÆÂÆû‰ΩìÊâÄÂØπÂ∫îÁöÑ‰ªìÂÇ®„ÄÇ</span>
</span></span><span class="line"><span class="cl">	<span class="c1">//IReadOnlyBasicRepository&lt;TEntity&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="kt">var</span> <span class="n">readOnlyBasicRepositoryInterface</span> <span class="p">=</span> <span class="k">typeof</span><span class="p">(</span><span class="n">IReadOnlyBasicRepository</span><span class="p">&lt;&gt;).</span><span class="n">MakeGenericType</span><span class="p">(</span><span class="n">entityType</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">	<span class="k">if</span> <span class="p">(</span><span class="n">readOnlyBasicRepositoryInterface</span><span class="p">.</span><span class="n">IsAssignableFrom</span><span class="p">(</span><span class="n">repositoryImplementationType</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">	<span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="n">services</span><span class="p">.</span><span class="n">TryAddTransient</span><span class="p">(</span><span class="n">readOnlyBasicRepositoryInterface</span><span class="p">,</span> <span class="n">repositoryImplementationType</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">		<span class="c1">//IReadOnlyRepository&lt;TEntity&gt;</span>
</span></span><span class="line"><span class="cl">		<span class="kt">var</span> <span class="n">readOnlyRepositoryInterface</span> <span class="p">=</span> <span class="k">typeof</span><span class="p">(</span><span class="n">IReadOnlyRepository</span><span class="p">&lt;&gt;).</span><span class="n">MakeGenericType</span><span class="p">(</span><span class="n">entityType</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">		<span class="k">if</span> <span class="p">(</span><span class="n">readOnlyRepositoryInterface</span><span class="p">.</span><span class="n">IsAssignableFrom</span><span class="p">(</span><span class="n">repositoryImplementationType</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">		<span class="p">{</span>
</span></span><span class="line"><span class="cl">			<span class="n">services</span><span class="p">.</span><span class="n">TryAddTransient</span><span class="p">(</span><span class="n">readOnlyRepositoryInterface</span><span class="p">,</span> <span class="n">repositoryImplementationType</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">		<span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">		<span class="c1">//IBasicRepository&lt;TEntity&gt;</span>
</span></span><span class="line"><span class="cl">		<span class="kt">var</span> <span class="n">basicRepositoryInterface</span> <span class="p">=</span> <span class="k">typeof</span><span class="p">(</span><span class="n">IBasicRepository</span><span class="p">&lt;&gt;).</span><span class="n">MakeGenericType</span><span class="p">(</span><span class="n">entityType</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">		<span class="k">if</span> <span class="p">(</span><span class="n">basicRepositoryInterface</span><span class="p">.</span><span class="n">IsAssignableFrom</span><span class="p">(</span><span class="n">repositoryImplementationType</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">		<span class="p">{</span>
</span></span><span class="line"><span class="cl">			<span class="n">services</span><span class="p">.</span><span class="n">TryAddTransient</span><span class="p">(</span><span class="n">basicRepositoryInterface</span><span class="p">,</span> <span class="n">repositoryImplementationType</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">			<span class="c1">//IRepository&lt;TEntity&gt;</span>
</span></span><span class="line"><span class="cl">			<span class="kt">var</span> <span class="n">repositoryInterface</span> <span class="p">=</span> <span class="k">typeof</span><span class="p">(</span><span class="n">IRepository</span><span class="p">&lt;&gt;).</span><span class="n">MakeGenericType</span><span class="p">(</span><span class="n">entityType</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">			<span class="k">if</span> <span class="p">(</span><span class="n">repositoryInterface</span><span class="p">.</span><span class="n">IsAssignableFrom</span><span class="p">(</span><span class="n">repositoryImplementationType</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">			<span class="p">{</span>
</span></span><span class="line"><span class="cl">				<span class="n">services</span><span class="p">.</span><span class="n">TryAddTransient</span><span class="p">(</span><span class="n">repositoryInterface</span><span class="p">,</span> <span class="n">repositoryImplementationType</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">			<span class="p">}</span>
</span></span><span class="line"><span class="cl">		<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="c1">// È¶ñÂÖàËé∑ÂæóÂÆû‰ΩìÁöÑ‰∏ªÈîÆÁ±ªÂûãÔºåÂÜçËøõË°åÊ≥®ÂÜå„ÄÇ</span>
</span></span><span class="line"><span class="cl">	<span class="kt">var</span> <span class="n">primaryKeyType</span> <span class="p">=</span> <span class="n">EntityHelper</span><span class="p">.</span><span class="n">FindPrimaryKeyType</span><span class="p">(</span><span class="n">entityType</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">	<span class="k">if</span> <span class="p">(</span><span class="n">primaryKeyType</span> <span class="p">!=</span> <span class="kc">null</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="c1">//IReadOnlyBasicRepository&lt;TEntity, TKey&gt;</span>
</span></span><span class="line"><span class="cl">		<span class="kt">var</span> <span class="n">readOnlyBasicRepositoryInterfaceWithPk</span> <span class="p">=</span> <span class="k">typeof</span><span class="p">(</span><span class="n">IReadOnlyBasicRepository</span><span class="p">&lt;,&gt;).</span><span class="n">MakeGenericType</span><span class="p">(</span><span class="n">entityType</span><span class="p">,</span> <span class="n">primaryKeyType</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">		<span class="k">if</span> <span class="p">(</span><span class="n">readOnlyBasicRepositoryInterfaceWithPk</span><span class="p">.</span><span class="n">IsAssignableFrom</span><span class="p">(</span><span class="n">repositoryImplementationType</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">		<span class="p">{</span>
</span></span><span class="line"><span class="cl">			<span class="n">services</span><span class="p">.</span><span class="n">TryAddTransient</span><span class="p">(</span><span class="n">readOnlyBasicRepositoryInterfaceWithPk</span><span class="p">,</span> <span class="n">repositoryImplementationType</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">			<span class="c1">//IReadOnlyRepository&lt;TEntity, TKey&gt;</span>
</span></span><span class="line"><span class="cl">			<span class="kt">var</span> <span class="n">readOnlyRepositoryInterfaceWithPk</span> <span class="p">=</span> <span class="k">typeof</span><span class="p">(</span><span class="n">IReadOnlyRepository</span><span class="p">&lt;,&gt;).</span><span class="n">MakeGenericType</span><span class="p">(</span><span class="n">entityType</span><span class="p">,</span> <span class="n">primaryKeyType</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">			<span class="k">if</span> <span class="p">(</span><span class="n">readOnlyRepositoryInterfaceWithPk</span><span class="p">.</span><span class="n">IsAssignableFrom</span><span class="p">(</span><span class="n">repositoryImplementationType</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">			<span class="p">{</span>
</span></span><span class="line"><span class="cl">				<span class="n">services</span><span class="p">.</span><span class="n">TryAddTransient</span><span class="p">(</span><span class="n">readOnlyRepositoryInterfaceWithPk</span><span class="p">,</span> <span class="n">repositoryImplementationType</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">			<span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">			<span class="c1">//IBasicRepository&lt;TEntity, TKey&gt;</span>
</span></span><span class="line"><span class="cl">			<span class="kt">var</span> <span class="n">basicRepositoryInterfaceWithPk</span> <span class="p">=</span> <span class="k">typeof</span><span class="p">(</span><span class="n">IBasicRepository</span><span class="p">&lt;,&gt;).</span><span class="n">MakeGenericType</span><span class="p">(</span><span class="n">entityType</span><span class="p">,</span> <span class="n">primaryKeyType</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">			<span class="k">if</span> <span class="p">(</span><span class="n">basicRepositoryInterfaceWithPk</span><span class="p">.</span><span class="n">IsAssignableFrom</span><span class="p">(</span><span class="n">repositoryImplementationType</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">			<span class="p">{</span>
</span></span><span class="line"><span class="cl">				<span class="n">services</span><span class="p">.</span><span class="n">TryAddTransient</span><span class="p">(</span><span class="n">basicRepositoryInterfaceWithPk</span><span class="p">,</span> <span class="n">repositoryImplementationType</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">				<span class="c1">//IRepository&lt;TEntity, TKey&gt;</span>
</span></span><span class="line"><span class="cl">				<span class="kt">var</span> <span class="n">repositoryInterfaceWithPk</span> <span class="p">=</span> <span class="k">typeof</span><span class="p">(</span><span class="n">IRepository</span><span class="p">&lt;,&gt;).</span><span class="n">MakeGenericType</span><span class="p">(</span><span class="n">entityType</span><span class="p">,</span> <span class="n">primaryKeyType</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">				<span class="k">if</span> <span class="p">(</span><span class="n">repositoryInterfaceWithPk</span><span class="p">.</span><span class="n">IsAssignableFrom</span><span class="p">(</span><span class="n">repositoryImplementationType</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">				<span class="p">{</span>
</span></span><span class="line"><span class="cl">					<span class="n">services</span><span class="p">.</span><span class="n">TryAddTransient</span><span class="p">(</span><span class="n">repositoryInterfaceWithPk</span><span class="p">,</span> <span class="n">repositoryImplementationType</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">				<span class="p">}</span>
</span></span><span class="line"><span class="cl">			<span class="p">}</span>
</span></span><span class="line"><span class="cl">		<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="n">services</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>‰∏äÈù¢‰ª£Á†ÅÊ≤°‰ªÄ‰πàÂ•ΩËØ¥ÁöÑÔºåÂè™ÊòØÊ†πÊçÆ‰∏çÂêåÁöÑÁ±ªÂûãÊù•ËøõË°å‰∏çÂêåÁöÑÊ≥®ÂÜåËÄåÂ∑≤„ÄÇ</p>
<p>‰ª•‰∏äÊòØÊ≥®ÂÜåÊàë‰ª¨Ëá™ÂÆö‰πâÁöÑ‰ªìÂÇ®Á±ªÂûãÔºåÂè™Ë¶ÅÂºÄÂèë‰∫∫ÂëòË∞ÉÁî®Ëøá <code>AddDefaultRepositories()</code> ÊñπÊ≥ïÔºåÈÇ£‰πà ABP vNext ‰ºö‰∏∫ÊØè‰∏™‰∏çÂêåÁöÑÂÆû‰ΩìÊ≥®ÂÜåÂìçÂ∫îÁöÑÈªòËÆ§‰ªìÂ∫ì„ÄÇ</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="kd">public</span> <span class="n">ICommonDbContextRegistrationOptionsBuilder</span> <span class="n">AddDefaultRepositories</span><span class="p">(</span><span class="kt">bool</span> <span class="n">includeAllEntities</span> <span class="p">=</span> <span class="kc">false</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// ÂèØ‰ª•ÁúãÂà∞Â∞ÜÂèÇÊï∞ËÆæÁΩÆ‰∏∫ true ‰∫Ü„ÄÇ</span>
</span></span><span class="line"><span class="cl">	<span class="n">RegisterDefaultRepositories</span> <span class="p">=</span> <span class="kc">true</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">	<span class="n">IncludeAllEntitiesForDefaultRepositories</span> <span class="p">=</span> <span class="n">includeAllEntities</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="k">this</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ÈªòËÆ§‰ªìÂ∫ì‰ªÖÂåÖÂê´Âü∫Á°Ä‰ªìÂÇ®ÊâÄÂÆö‰πâÁöÑÂ¢ûÂà†ÊîπÊü•Á≠âÊñπÊ≥ïÔºåÂºÄÂèë‰∫∫ÂëòÂè™ÈúÄË¶ÅÊ≥®ÂÖ•Áõ∏Â∫îÁöÑÊé•Âè£Â∞±ËÉΩÂ§üÁõ¥Êé•‰ΩøÁî®„ÄÇÊó¢ÁÑ∂Ë¶Å‰∏∫ÊØè‰∏™ÂÆû‰ΩìÁ±ªÂûãÊ≥®ÂÖ•ÂØπÂ∫îÁöÑÈªòËÆ§‰ªìÂÇ®ÔºåËÇØÂÆöÂ∞±ÈúÄË¶ÅÁü•ÈÅìÂΩìÂâçÈ°πÁõÆÊúâÂ§öÂ∞ë‰∏™ÂÆû‰ΩìÔºåÂπ∂Ëé∑ÂæóÂÆÉ‰ª¨ÁöÑÁ±ªÂûãÂÆö‰πâ„ÄÇ</p>
<p>ËøôÈáåÊàë‰ª¨Âü∫Á±ª‰ªÖ‰ªÖÊòØË∞ÉÁî®ÊäΩË±°ÊñπÊ≥ï <code>GetEntityTypes()</code> ÔºåÁÑ∂ÂêéÊ†πÊçÆÂÖ∑‰ΩìÂÆûÁé∞ËøîÂõûÁöÑÁ±ªÂûãÂÆö‰πâÊù•Ê≥®ÂÜåÈªòËÆ§‰ªìÂÇ®„ÄÇ</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="kd">protected</span> <span class="k">virtual</span> <span class="k">void</span> <span class="n">RegisterDefaultRepositories</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="k">foreach</span> <span class="p">(</span><span class="kt">var</span> <span class="n">entityType</span> <span class="k">in</span> <span class="n">GetEntityTypes</span><span class="p">(</span><span class="n">Options</span><span class="p">.</span><span class="n">OriginalDbContextType</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">	<span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// Âà§Êñ≠ËØ•ÂÆû‰ΩìÁ±ªÂûãÊòØÂê¶ÈúÄË¶ÅÊ≥®ÂÜåÈªòËÆ§‰ªìÂÇ®„ÄÇ</span>
</span></span><span class="line"><span class="cl">		<span class="k">if</span> <span class="p">(!</span><span class="n">ShouldRegisterDefaultRepositoryFor</span><span class="p">(</span><span class="n">entityType</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">		<span class="p">{</span>
</span></span><span class="line"><span class="cl">			<span class="k">continue</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">		<span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1">// ‰∏∫ÂÆû‰ΩìÂØπË±°Ê≥®ÂÜåÁõ∏Â∫îÁöÑÈªòËÆ§‰ªìÂÇ®ÔºåËøôÈáå‰ªçÁÑ∂Ë∞ÉÁî®‰πãÂâçÁöÑÊâ©Â±ïÊñπÊ≥ïËøõË°åÊ≥®ÂÜå„ÄÇ</span>
</span></span><span class="line"><span class="cl">		<span class="n">RegisterDefaultRepository</span><span class="p">(</span><span class="n">entityType</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="/p/abp-vnext-source-code-analysis---5-domain-layer-support-for-ddd-repository-entity-value-object/1563547880976.png"
	width="1951"
	height="276"
	srcset="/p/abp-vnext-source-code-analysis---5-domain-layer-support-for-ddd-repository-entity-value-object/1563547880976_hu26ad4526ed28805c39b828fe30e3897a_71646_480x0_resize_box_3.png 480w, /p/abp-vnext-source-code-analysis---5-domain-layer-support-for-ddd-repository-entity-value-object/1563547880976_hu26ad4526ed28805c39b828fe30e3897a_71646_1024x0_resize_box_3.png 1024w"
	loading="lazy"
	
		alt="1563547880976"
	
	
		class="gallery-image" 
		data-flex-grow="706"
		data-flex-basis="1696px"
	
></p>
<p>ÊâæÂà∞ EF Core ÂÆö‰πâÁöÑ‰ªìÂÇ®Ê≥®ÂÜåÂô®ÔºåÂ∞±ËÉΩÂ§üÁúãÂà∞‰ªñÊòØÈÄöËøáÈÅçÂéÜ DbContext ÈáåÈù¢ÁöÑÂ±ûÊÄßÊù•Ëé∑ÂèñÊâÄÊúâÂÆû‰ΩìÁ±ªÂûãÂÆö‰πâÁöÑ„ÄÇ</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="kd">public</span> <span class="kd">static</span> <span class="n">IEnumerable</span><span class="p">&lt;</span><span class="n">Type</span><span class="p">&gt;</span> <span class="n">GetEntityTypes</span><span class="p">(</span><span class="n">Type</span> <span class="n">dbContextType</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="k">return</span>
</span></span><span class="line"><span class="cl">		<span class="k">from</span> <span class="n">property</span> <span class="k">in</span> <span class="n">dbContextType</span><span class="p">.</span><span class="n">GetTypeInfo</span><span class="p">().</span><span class="n">GetProperties</span><span class="p">(</span><span class="n">BindingFlags</span><span class="p">.</span><span class="n">Public</span> <span class="p">|</span> <span class="n">BindingFlags</span><span class="p">.</span><span class="n">Instance</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="k">where</span>
</span></span><span class="line"><span class="cl">			<span class="n">ReflectionHelper</span><span class="p">.</span><span class="n">IsAssignableToGenericType</span><span class="p">(</span><span class="n">property</span><span class="p">.</span><span class="n">PropertyType</span><span class="p">,</span> <span class="k">typeof</span><span class="p">(</span><span class="n">DbSet</span><span class="p">&lt;&gt;))</span> <span class="p">&amp;&amp;</span>
</span></span><span class="line"><span class="cl">			<span class="k">typeof</span><span class="p">(</span><span class="n">IEntity</span><span class="p">).</span><span class="n">IsAssignableFrom</span><span class="p">(</span><span class="n">property</span><span class="p">.</span><span class="n">PropertyType</span><span class="p">.</span><span class="n">GenericTypeArguments</span><span class="p">[</span><span class="m">0</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">		<span class="k">select</span> <span class="n">property</span><span class="p">.</span><span class="n">PropertyType</span><span class="p">.</span><span class="n">GenericTypeArguments</span><span class="p">[</span><span class="m">0</span><span class="p">];</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ÊúÄÂêéÁöÑÊúÄÂêéÔºåËøô‰∏™Ê≥®ÂÜåÂô®Âú®‰ªÄ‰πàÊó∂ÂÄôË¢´Ë∞ÉÁî®ÁöÑÂë¢ÔºüÊ≥®ÂÜåÂô®‰∏ÄËà¨ÊòØÂú®È°πÁõÆÁöÑÂü∫Á°ÄËÆæÊñΩÊ®°ÂùóÂΩì‰∏≠ËøõË°åË∞ÉÁî®ÔºåËøôÈáå‰ª•ÂçïÂÖÉÊµãËØïÁöÑ‰ª£Á†Å‰∏∫‰æãÔºåÂÆÉÊòØ‰ΩøÁî®ÁöÑ EF Core ‰Ωú‰∏∫ÊåÅ‰πÖÂ±ÇÁöÑÂü∫Á°ÄËÆæÊñΩ„ÄÇ</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="na">[DependsOn(typeof(AbpEntityFrameworkCoreModule))]</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="k">class</span> <span class="nc">AbpEfCoreTestSecondContextModule</span> <span class="p">:</span> <span class="n">AbpModule</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="kd">public</span> <span class="kd">override</span> <span class="k">void</span> <span class="n">ConfigureServices</span><span class="p">(</span><span class="n">ServiceConfigurationContext</span> <span class="n">context</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="c1">// Ê≥®ÊÑèËøôÈáå„ÄÇ</span>
</span></span><span class="line"><span class="cl">		<span class="n">context</span><span class="p">.</span><span class="n">Services</span><span class="p">.</span><span class="n">AddAbpDbContext</span><span class="p">&lt;</span><span class="n">SecondDbContext</span><span class="p">&gt;(</span><span class="n">options</span> <span class="p">=&gt;</span>
</span></span><span class="line"><span class="cl">		<span class="p">{</span>
</span></span><span class="line"><span class="cl">			<span class="n">options</span><span class="p">.</span><span class="n">AddDefaultRepositories</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">		<span class="p">});</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">		<span class="c1">// Ê≥®ÊÑèËøôÈáå„ÄÇ</span>
</span></span><span class="line"><span class="cl">		<span class="n">context</span><span class="p">.</span><span class="n">Services</span><span class="p">.</span><span class="n">AddAbpDbContext</span><span class="p">&lt;</span><span class="n">ThirdDbContext</span><span class="p">.</span><span class="n">ThirdDbContext</span><span class="p">&gt;(</span><span class="n">options</span> <span class="p">=&gt;</span>
</span></span><span class="line"><span class="cl">		<span class="p">{</span>
</span></span><span class="line"><span class="cl">			<span class="n">options</span><span class="p">.</span><span class="n">AddDefaultRepositories</span><span class="p">&lt;</span><span class="n">IThirdDbContext</span><span class="p">&gt;();</span>
</span></span><span class="line"><span class="cl">		<span class="p">});</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Ë∑≥ËΩ¨Âà∞ ABP vNext Êèê‰æõÁöÑ EF CoreÊ®°ÂùóÔºåÊâæÂà∞ <code>AddAbpDbContext()</code> ÊñπÊ≥ïÂΩì‰∏≠ÔºåÂèëÁé∞‰∫Ü‰ªìÂÇ®Ê≥®ÂÜåÂô®„ÄÇ</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="kd">public</span> <span class="kd">static</span> <span class="k">class</span> <span class="nc">AbpEfCoreServiceCollectionExtensions</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="kd">public</span> <span class="kd">static</span> <span class="n">IServiceCollection</span> <span class="n">AddAbpDbContext</span><span class="p">&lt;</span><span class="n">TDbContext</span><span class="p">&gt;(</span>
</span></span><span class="line"><span class="cl">		<span class="k">this</span> <span class="n">IServiceCollection</span> <span class="n">services</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">		<span class="n">Action</span><span class="p">&lt;</span><span class="n">IAbpDbContextRegistrationOptionsBuilder</span><span class="p">&gt;</span> <span class="n">optionsBuilder</span> <span class="p">=</span> <span class="kc">null</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="k">where</span> <span class="n">TDbContext</span> <span class="p">:</span> <span class="n">AbpDbContext</span><span class="p">&lt;</span><span class="n">TDbContext</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">	<span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="n">services</span><span class="p">.</span><span class="n">AddMemoryCache</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">		<span class="kt">var</span> <span class="n">options</span> <span class="p">=</span> <span class="k">new</span> <span class="n">AbpDbContextRegistrationOptions</span><span class="p">(</span><span class="k">typeof</span><span class="p">(</span><span class="n">TDbContext</span><span class="p">),</span> <span class="n">services</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">		<span class="n">optionsBuilder</span><span class="p">?.</span><span class="n">Invoke</span><span class="p">(</span><span class="n">options</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">		<span class="n">services</span><span class="p">.</span><span class="n">TryAddTransient</span><span class="p">(</span><span class="n">DbContextOptionsFactory</span><span class="p">.</span><span class="n">Create</span><span class="p">&lt;</span><span class="n">TDbContext</span><span class="p">&gt;);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">		<span class="k">foreach</span> <span class="p">(</span><span class="kt">var</span> <span class="n">dbContextType</span> <span class="k">in</span> <span class="n">options</span><span class="p">.</span><span class="n">ReplacedDbContextTypes</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="p">{</span>
</span></span><span class="line"><span class="cl">			<span class="n">services</span><span class="p">.</span><span class="n">Replace</span><span class="p">(</span><span class="n">ServiceDescriptor</span><span class="p">.</span><span class="n">Transient</span><span class="p">(</span><span class="n">dbContextType</span><span class="p">,</span> <span class="k">typeof</span><span class="p">(</span><span class="n">TDbContext</span><span class="p">)));</span>
</span></span><span class="line"><span class="cl">		<span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1">// Âú®ËøôÈáå„ÄÇ</span>
</span></span><span class="line"><span class="cl">		<span class="k">new</span> <span class="n">EfCoreRepositoryRegistrar</span><span class="p">(</span><span class="n">options</span><span class="p">).</span><span class="n">AddRepositories</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">		<span class="k">return</span> <span class="n">services</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="27-È¢ÜÂüü‰∫ã‰ª∂">2.7 È¢ÜÂüü‰∫ã‰ª∂</h3>
<p>Âú® ABP vNext ‰∏≠ÔºåÈô§‰∫Ü<strong>Êú¨Âú∞‰∫ã‰ª∂ÊÄªÁ∫ø</strong>‰ª•Â§ñÔºåËøò‰∏∫Êàë‰ª¨Êèê‰æõ‰∫Ü<strong>Âü∫‰∫é Rabbit MQ ÁöÑÂàÜÂ∏ÉÂºè‰∫ã‰ª∂ÊÄªÁ∫ø</strong>„ÄÇÂÖ≥‰∫é‰∫ã‰ª∂ÊÄªÁ∫øÁöÑÂÜÖÂÆπÔºåËøôÈáåÂ∞±‰∏çÂÜçËØ¶ÁªÜËµòËø∞ÔºåÂêéÈù¢‰ºöÊúâ‰∏ìÈó®ÁöÑÊñáÁ´†ËÆ≤Ëß£‰∫ã‰ª∂ÊÄªÁ∫øÁöÑÁõ∏ÂÖ≥Áü•ËØÜ„ÄÇ</p>
<p>Âú®ËøôÈáåÔºå‰∏ªË¶ÅÊèê‰∏Ä‰∏ã‰ªÄ‰πàÊòØÈ¢ÜÂüü‰∫ã‰ª∂„ÄÇÂÖ∂ÂÆûÈ¢ÜÂüü‰∫ã‰ª∂‰∏éÊôÆÈÄöÁöÑ‰∫ã‰ª∂Âπ∂Ê≤°‰ªÄ‰πàÊú¨Ë¥®‰∏äÁöÑ‰∏çÂêåÔºåÂè™ÊòØÂÆÉ‰ª¨Ëß¶ÂèëÁöÑÂú∞ÊñπÂíåÊê∫Â∏¶ÁöÑÂèÇÊï∞ÊúâÁÇπÁâπÊÆäÁΩ¢‰∫Ü„ÄÇÂπ∂‰∏îÊåâÁÖßËÅöÂêàÁöÑÁâπÊÄßÊù•ËØ¥ÔºåÂÖ∂ÂÆû<strong>ËÅöÂêà‰∏éËÅöÂêà‰πãÈó¥ÁöÑÈÄöËÆØÔºå‰∏ªË¶ÅÊòØÈÄöËøáÈ¢ÜÂüü‰∫ã‰ª∂Êù•ÂÆûÁé∞</strong>ÁöÑ„ÄÇ</p>
<p>ËøôÈáåÁöÑÈ¢ÜÂüü‰∫ã‰ª∂ÈÉΩÊòØÈíàÂØπ‰∫éÂÆû‰Ωì‰∫ßÁîüÂèòÊõ¥Êó∂ÈúÄË¶ÅË¢´Ëß¶ÂèëÁöÑ‰∫ã‰ª∂Ôºå‰æãÂ¶ÇÊàë‰ª¨Êúâ‰∏Ä‰∏™Â≠¶ÁîüÂÆû‰ΩìÔºåÂú®ÂÆÉË¢´‰øÆÊîπ‰πãÂêéÔºåABP vNext Ê°ÜÊû∂Â∞±‰ºöËß¶Âèë‰∏Ä‰∏™ÂÆû‰ΩìÊõ¥Êñ∞‰∫ã‰ª∂„ÄÇ</p>
<p>Ëß¶ÂèëÈ¢ÜÂüü‰∫ã‰ª∂Ëøô‰∫õÂä®‰ΩúÈÉΩË¢´Â∞ÅË£ÖÂú® <code>EntityChangeEventHelper</code> ÈáåÈù¢Ôºå‰ª•ÂàöÊâçÁöÑ‰æãÂ≠êÊù•ËØ¥ÔºåÊàë‰ª¨ÂèØ‰ª•ÁúãÂà∞ÂÆÉ‰ºöËß¶Âèë‰ª•‰∏ã‰ª£Á†ÅÔºö</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="kd">public</span> <span class="k">virtual</span> <span class="kd">async</span> <span class="n">Task</span> <span class="n">TriggerEntityUpdatedEventOnUowCompletedAsync</span><span class="p">(</span><span class="kt">object</span> <span class="n">entity</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// Ëß¶ÂèëÊú¨Âú∞‰∫ã‰ª∂ÊÄªÁ∫ø„ÄÇ</span>
</span></span><span class="line"><span class="cl">	<span class="k">await</span> <span class="n">TriggerEventWithEntity</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">		<span class="n">LocalEventBus</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">		<span class="k">typeof</span><span class="p">(</span><span class="n">EntityUpdatedEventData</span><span class="p">&lt;&gt;),</span>
</span></span><span class="line"><span class="cl">		<span class="n">entity</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">		<span class="kc">false</span>
</span></span><span class="line"><span class="cl">	<span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="kt">var</span> <span class="n">eto</span> <span class="p">=</span> <span class="n">EntityToEtoMapper</span><span class="p">.</span><span class="n">Map</span><span class="p">(</span><span class="n">entity</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">	<span class="k">if</span> <span class="p">(</span><span class="n">eto</span> <span class="p">!=</span> <span class="kc">null</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// Ëß¶ÂèëÂàÜÂ∏ÉÂºè‰∫ã‰ª∂ÊÄªÁ∫ø„ÄÇ</span>
</span></span><span class="line"><span class="cl">		<span class="k">await</span> <span class="n">TriggerEventWithEntity</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">			<span class="n">DistributedEventBus</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">			<span class="k">typeof</span><span class="p">(</span><span class="n">EntityUpdatedEto</span><span class="p">&lt;&gt;),</span>
</span></span><span class="line"><span class="cl">			<span class="n">eto</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">			<span class="kc">false</span>
</span></span><span class="line"><span class="cl">		<span class="p">);</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ÂÖ≥‰∫éÈ¢ÜÂüü‰∫ã‰ª∂ÂÖ∂‰ªñÁöÑÁªÜËäÇÂ∞±‰∏çÂÜçÊèèËø∞ÔºåÂ¶ÇÊûúÂ§ßÂÆ∂ÊÉ≥Ë¶ÅÊõ¥Âä†ÂÖ®Èù¢ÁöÑ‰∫ÜËß£ÔºåËØ∑Áõ¥Êé•ÈòÖËØª ABP vNext ÁöÑÁõ∏ÂÖ≥Ê∫êÁ†Å„ÄÇ</p>
<h2 id="‰∏âÊÄªÁªì">‰∏â„ÄÅÊÄªÁªì</h2>
<p>Êú¨ÁØáÊñáÁ´†Êõ¥Â§öÁöÑÊ≥®Èáç DDD ÁêÜËÆ∫ÔºåÂÖ≥‰∫é ABP vNext ÁöÑÊäÄÊúØÂÆûÁé∞ÁªÜËäÇÂπ∂Êú™‰ΩìÁé∞Âú®ÂΩìÂâçÊ®°ÂùóÔºåÂêéÁª≠Êàë‰ºöÂú®ÂÖ∂‰ªñÁ´†ËäÇÊ≥®ÈáçÊèèËø∞ÂÖ≥‰∫é‰∏äËø∞ DDD Ê¶ÇÂøµÁöÑÊäÄÊúØÂÆûÁé∞„ÄÇ</p>
</section>


    <footer class="article-footer">
    
    <section class="article-tags">
        
            <a href="/tags/c#/">C#</a>
        
            <a href="/tags/abp/">ABP</a>
        
            <a href="/tags/abp-vnext/">ABP vNext</a>
        
            <a href="/tags/.net-core/">.NET Core</a>
        
            <a href="/tags/asp.net-core/">ASP.NET Core</a>
        
            <a href="/tags/asp.net-core-mvc/">ASP.NET Core MVC</a>
        
    </section>


    
    <section class="article-copyright">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <path d="M14.5 9a3.5 4 0 1 0 0 6" />
</svg>



        <span>Licensed under CC BY-NC-SA 4.0</span>
    </section>
    </footer>


    
</article>

    

    

<aside class="related-content--wrapper">
    <h2 class="section-title">Áõ∏ÂÖ≥ÊñáÁ´†</h2>
    <div class="related-content">
        <div class="flex article-list--tile">
            
                
<article class="">
    <a href="/p/abp-vnext-source-code-analysis---20-email-and-sms-support/">
        
        

        <div class="article-details">
            <h2 class="article-title">Abp vNext Ê∫êÁ†ÅÂàÜÊûê - 20. ÁîµÂ≠êÈÇÆ‰ª∂‰∏éÁü≠‰ø°ÊîØÊåÅ</h2>
        </div>
    </a>
</article>

            
                
<article class="">
    <a href="/p/abp-vnext-source-code-analysis---19-unit-testing/">
        
        

        <div class="article-details">
            <h2 class="article-title">Abp vNext Ê∫êÁ†ÅÂàÜÊûê - 19. ÂçïÂÖÉÊµãËØï</h2>
        </div>
    </a>
</article>

            
                
<article class="">
    <a href="/p/abp-vnext-source-code-analysis---21-localization-of-interface-and-text/">
        
        

        <div class="article-details">
            <h2 class="article-title">Abp vNext Ê∫êÁ†ÅÂàÜÊûê - 21. ÁïåÈù¢‰∏éÊñáÂ≠óÁöÑÊú¨Âú∞Âåñ</h2>
        </div>
    </a>
</article>

            
                
<article class="">
    <a href="/p/abp-vnext-source-code-analysis---23-binary-large-object-system-blob/">
        
        

        <div class="article-details">
            <h2 class="article-title">Abp vNext Ê∫êÁ†ÅÂàÜÊûê - 23. ‰∫åËøõÂà∂Â§ßÂØπË±°Á≥ªÁªü(BLOB)</h2>
        </div>
    </a>
</article>

            
                
<article class="">
    <a href="/p/abp-vnext-source-code-analysis---19-multi-tenancy/">
        
        

        <div class="article-details">
            <h2 class="article-title">Abp vNext Ê∫êÁ†ÅÂàÜÊûê - 19. Â§öÁßüÊà∑</h2>
        </div>
    </a>
</article>

            
        </div>
    </div>
</aside>

     
    
        
    <script
    src="https://giscus.app/client.js"
    data-repo="real-zony/real-zony.github.io"
    data-repo-id="R_kgDOIC_OeA"
    data-category="General"
    data-category-id="DIC_kwDOIC_OeM4CRp3M"
    data-mapping="pathname"
    data-strict="0"
    data-reactions-enabled="1"
    data-emit-metadata="0"
    data-input-position="top"
    data-theme="preferred_color_scheme"
    data-lang="en"
    crossorigin="anonymous"
    async
></script>
<script>
    function setGiscusTheme(theme) {
        let giscus = document.querySelector("iframe.giscus-frame");
        if (giscus) {
            giscus.contentWindow.postMessage(
                {
                    giscus: {
                        setConfig: {
                            theme: theme,
                        },
                    },
                },
                "https://giscus.app"
            );
        }
    }

    (function () {
        addEventListener("message", (e) => {
            if (event.origin !== "https://giscus.app") return;
            handler();
        });
        window.addEventListener("onColorSchemeChange", handler);

        function handler() {
            if (document.documentElement.dataset.scheme === "light") {
                setGiscusTheme('preferred_color_scheme');
            } else {
                setGiscusTheme('preferred_color_scheme');
            }
        }
    })();
</script>

    

    <footer class="site-footer">
    <section class="copyright">
        &copy; 
        
            2020 - 
        
        2023 Zony ÁöÑÂçöÂÆ¢
    </section>
    
    <section class="powerby">
        Built with <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> <br />
        ‰∏ªÈ¢ò <b><a href="https://github.com/CaiJimmy/hugo-theme-stack" target="_blank" rel="noopener" data-version="3.13.0">Stack</a></b> Áî± <a href="https://jimmycai.com" target="_blank" rel="noopener">Jimmy</a> ËÆæËÆ°
    </section>
</footer>


    
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    
    <div class="pswp__bg"></div>

    
    <div class="pswp__scroll-wrap">

        
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                
                
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo="crossorigin="anonymous"
                defer
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU="crossorigin="anonymous"
                defer
                >
            </script><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css"crossorigin="anonymous"
            ><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css"crossorigin="anonymous"
            >

            </main>
    <aside class="sidebar right-sidebar sticky">
        
            
                
    <section class="widget archives">
        <div class="widget-icon">
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <line x1="5" y1="9" x2="19" y2="9" />
  <line x1="5" y1="15" x2="19" y2="15" />
  <line x1="11" y1="4" x2="7" y2="20" />
  <line x1="17" y1="4" x2="13" y2="20" />
</svg>



        </div>
        <h2 class="widget-title section-title">ÁõÆÂΩï</h2>
        
        <div class="widget--toc">
            <nav id="TableOfContents">
  <ol>
    <li><a href="#‰∏ÄÁÆÄË¶Å‰ªãÁªç">‰∏Ä„ÄÅÁÆÄË¶Å‰ªãÁªç</a></li>
    <li><a href="#‰∫åÊ∫êÁ†ÅÂàÜÊûê">‰∫å„ÄÅÊ∫êÁ†ÅÂàÜÊûê</a>
      <ol>
        <li><a href="#21-ÂÆû‰Ωì-entity">2.1 ÂÆû‰Ωì (Entity)</a>
          <ol>
            <li><a href="#211-Âü∫Êú¨Ê¶ÇÂøµ">2.1.1 Âü∫Êú¨Ê¶ÇÂøµ</a></li>
            <li><a href="#212-Â¶Ç‰ΩïÂÆûÁé∞">2.1.2 Â¶Ç‰ΩïÂÆûÁé∞</a></li>
          </ol>
        </li>
        <li><a href="#22-Ëá™Âä®ÂÆ°ËÆ°">2.2 Ëá™Âä®ÂÆ°ËÆ°</a></li>
        <li><a href="#23-ÂÄºÂØπË±°-valueobject">2.3 ÂÄºÂØπË±° (ValueObject)</a>
          <ol>
            <li><a href="#231-Âü∫Êú¨Ê¶ÇÂøµ">2.3.1 Âü∫Êú¨Ê¶ÇÂøµ</a></li>
            <li><a href="#232-Â¶Ç‰ΩïÂÆûÁé∞">2.3.2 Â¶Ç‰ΩïÂÆûÁé∞</a></li>
          </ol>
        </li>
        <li><a href="#24-ËÅöÂêà">2.4 ËÅöÂêà</a></li>
        <li><a href="#25-ÊúçÂä°-service">2.5 ÊúçÂä° (Service)</a>
          <ol>
            <li><a href="#251-È¢ÜÂüüÊúçÂä°-domain-service">2.5.1 È¢ÜÂüüÊúçÂä° (Domain Service)</a></li>
            <li><a href="#252-Â∫îÁî®ÊúçÂä°-application-service">2.5.2 Â∫îÁî®ÊúçÂä° (Application Service)</a></li>
          </ol>
        </li>
        <li><a href="#26-‰ªìÂÇ®-repository">2.6 ‰ªìÂÇ® (Repository)</a>
          <ol>
            <li><a href="#261-ËÉåÊôØ">2.6.1 ËÉåÊôØ</a></li>
            <li><a href="#262-ÂÆûÁé∞">2.6.2 ÂÆûÁé∞</a></li>
            <li><a href="#263-‰ªìÂÇ®ÁöÑÊ≥®ÂÜå">2.6.3 ‰ªìÂÇ®ÁöÑÊ≥®ÂÜå</a></li>
          </ol>
        </li>
        <li><a href="#27-È¢ÜÂüü‰∫ã‰ª∂">2.7 È¢ÜÂüü‰∫ã‰ª∂</a></li>
      </ol>
    </li>
    <li><a href="#‰∏âÊÄªÁªì">‰∏â„ÄÅÊÄªÁªì</a></li>
  </ol>
</nav>
        </div>
    </section>

            
        
    </aside>


        </div>
        <script 
                src="https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js"integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z&#43;KMkF24hUW8WePSA9HM="crossorigin="anonymous"
                
                >
            </script><script type="text/javascript" src="/ts/main.js" defer></script>
<script>
    (function () {
        const customFont = document.createElement('link');
        customFont.href = "https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap";

        customFont.type = "text/css";
        customFont.rel = "stylesheet";

        document.head.appendChild(customFont);
    }());
</script>

    </body>
</html>
